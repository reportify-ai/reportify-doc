---
title: '文档搜索'
description: 'TypeScript SDK 文档搜索功能'
icon: 'magnifying-glass'
---

## search.all()

搜索所有类型的文档。

```typescript
const docs = await client.search.all('Tesla earnings', {
  num: 10,
  categories: ['news', 'reports'],
  symbols: ['US:TSLA'],
  startDatetime: '2024-01-01',
  endDatetime: '2024-12-31'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量，最大 100 |
| `options.categories` | `string[]` | 否 | - | 文档类别过滤，可选值：`news`, `reports`, `filings`, `transcripts`, `socials` |
| `options.symbols` | `string[]` | 否 | - | 股票代码列表，格式为 market:ticker（如 `US:AAPL`、`HK:00700`、`SH:600519`、`SZ:000001`）|
| `options.industries` | `string[]` | 否 | - | 行业过滤 |
| `options.channelIds` | `string[]` | 否 | - | 渠道 ID 过滤 |
| `options.startDatetime` | `string` | 否 | - | 开始时间，格式：`YYYY-MM-DD` 或 `YYYY-MM-DD HH:MM:SS` |
| `options.endDatetime` | `string` | 否 | - | 结束时间，格式：`YYYY-MM-DD` 或 `YYYY-MM-DD HH:MM:SS` |

**返回值：** `Promise<Document[]>` - 文档列表

---

## search.news()

搜索新闻文章。

```typescript
const news = await client.search.news('Apple iPhone', {
  num: 10,
  symbols: ['US:AAPL']
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.channelIds` | `string[]` | 否 | - | 渠道 ID 过滤 |
| `options.startDatetime` | `string` | 否 | - | 开始时间 |
| `options.endDatetime` | `string` | 否 | - | 结束时间 |

**返回值：** `Promise<Document[]>` - 新闻文档列表

---

## search.reports()

搜索研究报告。

```typescript
const reports = await client.search.reports('semiconductor analysis', {
  num: 10,
  symbols: ['US:NVDA'],
  startDatetime: '2024-01-01'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.industries` | `string[]` | 否 | - | 行业过滤 |
| `options.channelIds` | `string[]` | 否 | - | 渠道 ID 过滤 |
| `options.startDatetime` | `string` | 否 | - | 开始时间 |
| `options.endDatetime` | `string` | 否 | - | 结束时间 |

**返回值：** `Promise<Document[]>` - 研究报告列表

---

## search.filings()

搜索公司公告和财报。

```typescript
const filings = await client.search.filings('10-K annual report', ['US:AAPL'], {
  num: 20,
  startDatetime: '2024-01-01'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `symbols` | `string[]` | 是 | - | 股票代码列表 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.startDatetime` | `string` | 否 | - | 开始时间 |
| `options.endDatetime` | `string` | 否 | - | 结束时间 |

**返回值：** `Promise<Document[]>` - 公告/财报列表

---

## search.conferenceCalls()

搜索财报电话会议记录和演示文稿。

```typescript
const calls = await client.search.conferenceCalls('AI strategy', ['US:AAPL', 'US:MSFT'], {
  num: 10,
  fiscalYear: '2025',
  fiscalQuarter: 'Q4'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `symbols` | `string[]` | 是 | - | 股票代码列表 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.startDatetime` | `string` | 否 | - | 开始时间（YYYY-MM-DD 或 YYYY-MM-DD HH:MM:SS） |
| `options.endDatetime` | `string` | 否 | - | 结束时间（YYYY-MM-DD 或 YYYY-MM-DD HH:MM:SS） |
| `options.fiscalYear` | `string` | 否 | - | 财年筛选，如 `2025`、`2026` |
| `options.fiscalQuarter` | `string` | 否 | - | 财季筛选，如 `Q1`、`Q2`、`Q3`、`Q4` |

**返回值：** `Promise<Document[]>` - 电话会议记录列表

---

## search.earningsPack()

搜索财报文档。

```typescript
const docs = await client.search.earningsPack('revenue growth', ['US:AAPL', 'US:TSLA'], {
  num: 10,
  fiscalYear: '2025',
  fiscalQuarter: 'Q4'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `symbols` | `string[]` | 是 | - | 股票代码列表 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.startDatetime` | `string` | 否 | - | 开始时间（YYYY-MM-DD 或 YYYY-MM-DD HH:MM:SS） |
| `options.endDatetime` | `string` | 否 | - | 结束时间（YYYY-MM-DD 或 YYYY-MM-DD HH:MM:SS） |
| `options.fiscalYear` | `string` | 否 | - | 财年筛选，如 `2025`、`2026` |
| `options.fiscalQuarter` | `string` | 否 | - | 财季筛选，如 `Q1`、`Q2`、`Q3`、`Q4` |

**返回值：** `Promise<Document[]>` - 财报相关文档列表

---

## search.minutes()

搜索电话会议和投资者关系（IR）会议。

```typescript
const minutes = await client.search.minutes('board meeting', {
  symbols: ['US:AAPL'],
  num: 10
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.startDatetime` | `string` | 否 | - | 开始时间 |
| `options.endDatetime` | `string` | 否 | - | 结束时间 |

**返回值：** `Promise<Document[]>` - 会议纪要列表

---

## search.socials()

搜索社交媒体内容。

```typescript
const socials = await client.search.socials('Tesla stock', {
  symbols: ['US:TSLA'],
  num: 10
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.channelIds` | `string[]` | 否 | - | 渠道 ID 过滤 |
| `options.startDatetime` | `string` | 否 | - | 开始时间 |
| `options.endDatetime` | `string` | 否 | - | 结束时间 |

**返回值：** `Promise<Document[]>` - 社交媒体文档列表

---

## search.webpages()

搜索网页内容。

```typescript
const pages = await client.search.webpages('AI technology', {
  num: 20,
  startDatetime: '2024-01-01'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.startDatetime` | `string` | 否 | - | 开始时间 |
| `options.endDatetime` | `string` | 否 | - | 结束时间 |

**返回值：** `Promise<Document[]>` - 网页内容列表

---

## 类型定义

```typescript
interface Document {
  docId: string;
  title: string;
  summary: string;
  category: 'news' | 'reports' | 'filings' | 'transcripts' | 'socials';
  publishedAt: number;  // 毫秒时间戳
  channelName: string;
  companies: Array<{
    name: string;
    stocks: Array<{ symbol: string; market: string; ticker: string }>;
  }>;
  url?: string;
}

interface SearchOptions {
  num?: number;
  categories?: string[];
  symbols?: string[];
  industries?: string[];
  channelIds?: string[];
  startDatetime?: string;
  endDatetime?: string;
}

interface EarningsSearchOptions {
  num?: number;
  startDatetime?: string;
  endDatetime?: string;
  fiscalYear?: string;
  fiscalQuarter?: string;
}
```
