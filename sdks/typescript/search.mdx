---
title: '文档搜索'
description: 'TypeScript SDK 文档搜索功能'
icon: 'magnifying-glass'
---

## search()

搜索所有类型的文档。

```typescript
const docs = await client.search('Tesla earnings', {
  num: 10,
  categories: ['news', 'reports'],
  symbols: ['US:TSLA'],
  startDate: '2024-01-01',
  endDate: '2024-12-31'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量，最大 100 |
| `options.categories` | `string[]` | 否 | - | 文档类别过滤，可选值：`news`, `reports`, `filings`, `transcripts`, `socials` |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤，格式：`市场:代码`，如 `US:AAPL`, `HK:0700`, `CN:600519` |
| `options.startDate` | `string` | 否 | - | 开始日期，格式：`YYYY-MM-DD` |
| `options.endDate` | `string` | 否 | - | 结束日期，格式：`YYYY-MM-DD` |

**返回值：** `Promise<Document[]>` - 文档列表

---

## searchNews()

搜索新闻文章。

```typescript
const news = await client.searchNews('Apple iPhone', {
  num: 10,
  symbols: ['US:AAPL']
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.startDate` | `string` | 否 | - | 开始日期 |
| `options.endDate` | `string` | 否 | - | 结束日期 |

**返回值：** `Promise<Document[]>` - 新闻文档列表

---

## searchReports()

搜索研究报告。

```typescript
const reports = await client.searchReports('semiconductor analysis', {
  num: 10,
  symbols: ['US:NVDA'],
  startDate: '2024-01-01'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.startDate` | `string` | 否 | - | 开始日期 |
| `options.endDate` | `string` | 否 | - | 结束日期 |

**返回值：** `Promise<Document[]>` - 研究报告列表

---

## searchFilings()

搜索公司公告和财报。

```typescript
const filings = await client.searchFilings('10-K annual report', {
  symbols: ['US:AAPL'],
  num: 20,
  startDate: '2024-01-01'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.startDate` | `string` | 否 | - | 开始日期 |
| `options.endDate` | `string` | 否 | - | 结束日期 |

**返回值：** `Promise<Document[]>` - 公告/财报列表

---

## searchTranscripts()

搜索财报电话会议纪要。

```typescript
const transcripts = await client.searchTranscripts('guidance revenue', {
  symbols: ['US:TSLA'],
  num: 10,
  startDate: '2024-01-01'
});
```

**参数：**

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| `query` | `string` | 是 | - | 搜索关键词 |
| `options.num` | `number` | 否 | `10` | 返回结果数量 |
| `options.symbols` | `string[]` | 否 | - | 股票代码过滤 |
| `options.startDate` | `string` | 否 | - | 开始日期 |
| `options.endDate` | `string` | 否 | - | 结束日期 |

**返回值：** `Promise<Document[]>` - 电话会议纪要列表

---

## 类型定义

```typescript
interface Document {
  docId: string;
  title: string;
  summary: string;
  category: 'news' | 'reports' | 'filings' | 'transcripts' | 'socials';
  publishedAt: number;  // 毫秒时间戳
  channelName: string;
  companies: Array<{
    name: string;
    stocks: Array<{ symbol: string; market: string; ticker: string }>;
  }>;
  url?: string;
}

interface SearchOptions {
  num?: number;
  categories?: string[];
  symbols?: string[];
  startDate?: string;
  endDate?: string;
}
```
