---
title: 'Introduction'
description: 'Agent Conversation API ä»‹ç»å’Œå¿«é€Ÿå¼€å§‹æŒ‡å—'
---

## æ¦‚è¿°

Agent Conversation API æä¾›äº†ä¸€å¥—å®Œæ•´çš„æ¥å£ï¼Œç”¨äºä¸æ™ºèƒ½ä½“è¿›è¡Œå¯¹è¯äº¤äº’ã€‚é€šè¿‡è¿™äº› APIï¼Œæ‚¨å¯ä»¥ï¼š

- åˆ›å»ºå’Œç®¡ç†æ™ºèƒ½ä½“å¯¹è¯ä¼šè¯
- å®æ—¶æ¥æ”¶æ™ºèƒ½ä½“çš„å“åº”æµ
- æŸ¥è¯¢å†å²æ¶ˆæ¯å’Œå¯¹è¯è¯¦æƒ…
- æ§åˆ¶æ™ºèƒ½ä½“çš„æ‰§è¡Œæµç¨‹

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ¤– æ™ºèƒ½ä½“å¯¹è¯

ä¸æ™ºèƒ½ä½“è¿›è¡Œè‡ªç„¶è¯­è¨€äº¤äº’ï¼Œæ”¯æŒæµå¼ï¼ˆSSEï¼‰å’Œéæµå¼ä¸¤ç§å“åº”æ¨¡å¼ã€‚æ™ºèƒ½ä½“å¯ä»¥æ‰§è¡Œå¤æ‚çš„å·¥ä½œæµï¼ŒåŒ…æ‹¬ï¼š

- ä¿¡æ¯æ£€ç´¢å’Œåˆ†æ
- å·¥å…·è°ƒç”¨å’Œæ•°æ®å¤„ç†
- æŠ¥å‘Šç”Ÿæˆå’Œå†…å®¹åˆ›ä½œ

### ğŸ“Š äº‹ä»¶æµç›‘æ§

é€šè¿‡ Server-Sent Events (SSE) å®æ—¶ç›‘æ§æ™ºèƒ½ä½“çš„æ‰§è¡Œè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ï¼š

- å·¥ä½œæµå¯åŠ¨å’Œç»“æŸ
- èŠ‚ç‚¹æ‰§è¡ŒçŠ¶æ€
- æ™ºèƒ½ä½“æ€è€ƒè¿‡ç¨‹
- å·¥å…·è°ƒç”¨è¯¦æƒ…
- æµå¼å†…å®¹è¾“å‡º

### ğŸ“ å†å²è®°å½•ç®¡ç†

å®Œæ•´çš„å¯¹è¯å†å²è®°å½•åŠŸèƒ½ï¼š

- æŸ¥è¯¢å¯¹è¯è¯¦æƒ…
- è·å–æ¶ˆæ¯åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µï¼‰
- å›æº¯äº‹ä»¶æµ
- æ–­ç‚¹ç»­ä¼ 

## API åˆ—è¡¨

### 1. [Create Conversation](/api-reference/agent/conversation_create)
åˆ›å»ºä¸€ä¸ªæ–°çš„æ™ºèƒ½ä½“å¯¹è¯ä¼šè¯ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼šå¼€å§‹ä¸æ™ºèƒ½ä½“çš„æ–°å¯¹è¯

### 2. [Chat](/api-reference/agent/conversation_chat)
ä¸æ™ºèƒ½ä½“è¿›è¡Œå¯¹è¯èŠå¤©ï¼Œæ”¯æŒæµå¼å’Œéæµå¼å“åº”ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼šå‘é€æ¶ˆæ¯ç»™æ™ºèƒ½ä½“å¹¶æ¥æ”¶å“åº”

### 3. [Fetch Stream Events](/api-reference/agent/message_events_get)
è·å–æŒ‡å®šåŠ©æ‰‹æ¶ˆæ¯çš„æ‰€æœ‰äº‹ä»¶ï¼Œæ”¯æŒä»æŒ‡å®šçš„ offset å¼€å§‹æ‰¹é‡è·å–ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼šæ–­ç‚¹ç»­ä¼ ã€å†å²å›æ”¾ã€äº‹ä»¶æŸ¥è¯¢

### 4. [Cancel](/api-reference/agent/message_cancel)
å–æ¶ˆæ­£åœ¨æ‰§è¡Œçš„æ™ºèƒ½ä½“ä»»åŠ¡ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼šä¸­æ­¢é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ã€ç”¨æˆ·å–æ¶ˆæ“ä½œ

### 5. [Conversation Detail](/api-reference/agent/conversation_get)
è·å–æŒ‡å®šæ™ºèƒ½ä½“å¯¹è¯çš„è¯¦ç»†ä¿¡æ¯ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼šæŸ¥çœ‹å¯¹è¯çŠ¶æ€ã€è·å–æœ€åä¸€æ¡æ¶ˆæ¯

### 6. [Conversation Messages History](/api-reference/agent/conversation_messages_list)
è·å–æŒ‡å®šå¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µæŸ¥è¯¢ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼šæŸ¥çœ‹å†å²æ¶ˆæ¯ã€å®ç°èŠå¤©è®°å½•åŠŸèƒ½

## å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1ï¼šåˆ›å»ºå¯¹è¯

```bash
curl -X POST "https://api.example.com/v1/agent/conversations" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_id": 11887655289749510,
    "title": "nvidia æœ€æ–°ä¸šç»©åˆ†æ"
  }'
```

å“åº”ï¼š
```json
{
  "id": 683242877840089,
  "agent_id": 11887655289749510,
  "title": "nvidia æœ€æ–°ä¸šç»©åˆ†æ",
  "status": "active"
}
```

### æ­¥éª¤ 2ï¼šå‘èµ·å¯¹è¯

```bash
curl -X POST "https://api.example.com/v1/agent/conversations/683242877840089/chat" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "message": "è¯·åˆ†æ NVIDIA æœ€æ–°ä¸€å­£åº¦çš„è´¢æŠ¥è¡¨ç°",
    "stream": true
  }' \
  --no-buffer
```

### æ­¥éª¤ 3ï¼šæ¥æ”¶äº‹ä»¶æµ

æ™ºèƒ½ä½“ä¼šé€šè¿‡ SSE æµè¿”å›æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å„ç§äº‹ä»¶ï¼š

```
data: {"event_type":"init","event_id":"...","timestamp":1765851195760}

data: {"event_type":"workflow_start","workflow_id":"...","node_id":"start"}

data: {"event_type":"streaming","content":"æ­£åœ¨åˆ†æ NVIDIA è´¢æŠ¥æ•°æ®..."}

data: {"event_type":"workflow_end","output":{...}}
```

## è®¤è¯

æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨ HTTP è¯·æ±‚å¤´ä¸­åŒ…å« Bearer Tokenï¼š

```
Authorization: Bearer YOUR_API_KEY
```

## å“åº”æ ¼å¼

### æµå¼å“åº”ï¼ˆSSEï¼‰

ä½¿ç”¨ `stream=true` æ—¶ï¼Œå“åº”æ ¼å¼ä¸º `text/event-stream`ï¼š

```
data: {"event_id":"...","event_type":"...","content":"..."}
```

### éæµå¼å“åº”ï¼ˆJSONï¼‰

ä½¿ç”¨ `stream=false` æ—¶ï¼Œå“åº”æ ¼å¼ä¸º `application/json`ï¼š

```json
{
  "assistant_events": [
    {"event_id":"...","event_type":"..."},
    ...
  ]
}
```

## é”™è¯¯å¤„ç†

API ä½¿ç”¨æ ‡å‡†çš„ HTTP çŠ¶æ€ç ï¼š

- `200` - è¯·æ±‚æˆåŠŸ
- `400` - è¯·æ±‚å‚æ•°é”™è¯¯
- `401` - è®¤è¯å¤±è´¥
- `422` - éªŒè¯é”™è¯¯
- `500` - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

é”™è¯¯å“åº”ç¤ºä¾‹ï¼š

```json
{
  "detail": "Invalid conversation_id"
}
```

## æœ€ä½³å®è·µ

### 1. ä½¿ç”¨æµå¼å“åº”

å¯¹äºéœ€è¦å®æ—¶åé¦ˆçš„åœºæ™¯ï¼Œå»ºè®®ä½¿ç”¨ `stream=true`ï¼Œè¿™æ ·å¯ä»¥ï¼š
- æ›´å¿«åœ°çœ‹åˆ°æ™ºèƒ½ä½“çš„å“åº”
- å®æ—¶ç›‘æ§æ‰§è¡Œè¿›åº¦
- æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

### 2. ä¿å­˜ assistant_message_id

ä» Chat æ¥å£çš„å“åº”å¤´ `X-REPORTIFY-ASSISTANT-MESSAGE-ID` ä¸­è·å–å¹¶ä¿å­˜ `assistant_message_id`ï¼Œç”¨äºï¼š
- è·å–æ¶ˆæ¯äº‹ä»¶
- å–æ¶ˆæ‰§è¡Œ
- äº‹ä»¶å›æº¯

### 3. å®ç°æ–­ç‚¹ç»­ä¼ 

ä½¿ç”¨ `from_offset` å‚æ•°å®ç°æ–­ç‚¹ç»­ä¼ ï¼š
```bash
curl -X GET "https://api.example.com/v1/agent/conversations/{conversation_id}/messages/{assistant_message_id}?from_offset=9200"
```

### 4. åˆç†ä½¿ç”¨åˆ†é¡µ

è·å–æ¶ˆæ¯åˆ—è¡¨æ—¶ï¼Œå»ºè®®ï¼š
- æ¯æ¬¡è¯·æ±‚ä¸è¶…è¿‡ 50 æ¡æ¶ˆæ¯
- ä½¿ç”¨ `before_message_id` å®ç°å‘å‰ç¿»é¡µ
- ç¼“å­˜å·²åŠ è½½çš„æ¶ˆæ¯

## ä¸‹ä¸€æ­¥

é€‰æ‹©ä¸€ä¸ª API å¼€å§‹ä½¿ç”¨ï¼š

<CardGroup cols={2}>
  <Card title="Create Conversation" icon="plus" href="/api-reference/agent/conversation_create">
    åˆ›å»ºæ–°çš„å¯¹è¯ä¼šè¯
  </Card>
  <Card title="Chat" icon="comments" href="/api-reference/agent/conversation_chat">
    ä¸æ™ºèƒ½ä½“å¯¹è¯
  </Card>
  <Card title="Fetch Stream Events" icon="stream" href="/api-reference/agent/message_events_get">
    è·å–äº‹ä»¶æµ
  </Card>
  <Card title="Cancel" icon="stop" href="/api-reference/agent/message_cancel">
    å–æ¶ˆæ‰§è¡Œ
  </Card>
</CardGroup>

