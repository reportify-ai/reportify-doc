openapi: 3.1.0
info:
  title: Reportify API
  version: 1.0.0
  description: API documentation for Reportify's document management and search services.
servers:
  - url: https://api.reportify.cn
    description: Production server
security:
  - BearerAuth: []
paths:
  /v1/oauth/token:
    post:
      tags:
      - openapi-oauth
      summary: Create Token
      operationId: create_token_reportify_api_v1_oauth_token_post
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Body_create_token_reportify_api_v1_oauth_token_post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuthTokenResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs:
    post:
      tags:
      - openapi-docs
      summary: Doc List
      description: Doc list
      operationId: doc_list_reportify_api_v1_docs_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsListRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/symbols:
    post:
      tags:
      - openapi-docs
      summary: Query Docs By Symbols
      description: Retrieve docs for the specified symbols
      operationId: query_docs_by_symbols_reportify_api_v1_docs_symbols_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsSymbolsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/tags:
    post:
      tags:
      - openapi-docs
      summary: Query Docs By Tags
      description: Retrieve docs for the specified tags
      operationId: query_docs_by_tags_reportify_api_v1_docs_tags_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsTagsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/{doc_id}:
    get:
      tags:
      - openapi-docs
      summary: Get Doc Contents
      description: Retrieve the full content of a document or a specific part of it
      operationId: get_doc_contents_reportify_api_v1_docs__doc_id__get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocContentsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/{doc_id}/raw-content:
    get:
      tags:
      - openapi-docs
      summary: Get Doc Raw Content
      description: Retrieve raw content of the specified document.
      operationId: get_doc_raw_content_reportify_api_v1_docs__doc_id__raw_content_get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocContentsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []      
  /v1/docs/{doc_id}/summary:
    get:
      tags:
      - openapi-docs
      summary: Get Doc Summary
      description: Retrieve the summary of the specified document.
      operationId: get_doc_summary_reportify_api_v1_docs__doc_id__summary_get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocSummaryResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/folder/create:
    post:
      tags:
      - openapi-files
      summary: Create Folder
      description: OAI docs folder create
      operationId: create_folder_reportify_api_v1_docs_folder_create_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIFolderCreateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIFolderResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/upload:
    post:
      tags:
      - openapi-files
      summary: Upload Docs
      description: OAI docs upload
      operationId: upload_docs_reportify_api_v1_docs_upload_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsUploadRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsUploadResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/upload/form:
    post:
      tags:
      - openapi-files
      summary: Upload Doc By Form
      description: Upload files via form
      operationId: upload_doc_by_form_reportify_api_v1_docs_upload_form_post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_upload_doc_by_form_reportify_api_v1_docs_upload_form_post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsIdResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/upload/async:
    post:
      tags:
      - openapi-files
      summary: Upload Docs Async
      description: OAI docs upload async
      operationId: upload_docs_async_reportify_api_v1_docs_upload_async_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsUploadRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsUploadResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/{doc_id}/upload/status:
    get:
      tags:
      - openapi-files
      summary: Get Upload Docs Status
      description: OAI docs upload status
      operationId: get_upload_docs_status_reportify_api_v1_docs__doc_id__upload_status_get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsUploadStatusResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/folder/delete:
    delete:
      tags:
      - openapi-files
      summary: Delete Folder
      description: OAI docs folder delete, include files in folder
      operationId: delete_folder_reportify_api_v1_docs_folder_delete_delete
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIFolderDeleteRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIFolderDeleteResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/delete:
    delete:
      tags:
      - openapi-files
      summary: Delete Docs
      description: OAI docs delete
      operationId: delete_docs_reportify_api_v1_docs_delete_delete
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsDeleteRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsDeleteResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/search:
    post:
      tags:
      - openapi-search
      summary: Search Docs
      description: Search for documents based on specified criteria.
      operationId: search_docs_reportify_api_v1_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAISearchDocsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/search/chunks:
    post:
      tags:
      - openapi-search
      summary: Search Chunks
      description: Perform semantic search on document chunks based on specified criteria.
      operationId: search_chunks_reportify_api_v1_search_chunks_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAISearchChunksRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchChunksResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search:
    post:
      tags:
      - openapi-v2-search
      summary: Search
      description: Comprehensive search of financial and investment documents, covering various types
      operationId: search_reportify_api_v2_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsSearchRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/earnings-pack:
    post:
      tags:
      - openapi-v2-search
      summary: Earnings Pack Search
      description: Earnings pack documents search, covering all financial statements
      operationId: earnings_pack_search_reportify_api_v2_search_earnings_pack_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsEarningsPackRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/conference-calls:
    post:
      tags:
      - openapi-v2-search
      summary: Conference Calls Search
      description: Earnings call conference search, earnings calls conference transcript and conference slide content
      operationId: conference_calls_search_reportify_api_v2_search_conference_calls_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsConferenceCallsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/minutes:
    post:
      tags:
      - openapi-v2-search
      summary: Minutes Search
      description: Various conference call materials search, covering industry conferences, and investor relations meetings
      operationId: minutes_search_reportify_api_v2_search_minutes_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsMinutesRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/reports:
    post:
      tags:
      - openapi-v2-search
      summary: Reports Search
      description: Institutional research reports search, covering company research, industry research, macroeconomic analysis, strategy reports and more
      operationId: reports_search_reportify_api_v2_search_reports_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsReportsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/filings:
    post:
      tags:
      - openapi-v2-search
      summary: Filings Search
      description: Company announcements search, covering major event disclosures, prospectuses, and other filings documents
      operationId: filings_search_reportify_api_v2_search_filings_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsFilingsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/news:
    post:
      tags:
      - openapi-v2-search
      summary: News Search
      description: Financial and investment news search, covering various public media content
      operationId: news_search_reportify_api_v2_search_news_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsNewsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/socials:
    post:
      tags:
      - openapi-v2-search
      summary: Socials Search
      description: Social media content search, covering X, Youtube, Wechat, Podcasts and more
      operationId: socials_search_reportify_api_v2_search_socials_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsSocialsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/webpages:
    post:
      tags:
      - openapi-v2-search
      summary: Webpages Search
      description: Retrieve the full content of a webpage
      operationId: webpages_search_reportify_api_v2_search_webpages_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsWebpagesRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-overview:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Overview
      description: Comprehensive search of company information, covering fundamental details, business overview, executive profiles and more
      operationId: company_overview_reportify_api_v2_stock_company_overview_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyOverviewInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-shareholders:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Shareholders
      description: List of outstanding shareholders of the company
      operationId: company_shareholders_reportify_api_v2_stock_company_shareholders_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyShareholdersInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/stock-quote:
    post:
      tags:
      - openapi-v2-stock
      summary: Stock Quote
      description: Current and historical prices, trading volumes, market capitalizations, P/E ratios, and P/S ratios of stocks
      operationId: stock_quote_reportify_api_v2_stock_company_prices_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockQuoteInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-income-statement:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Income Statement
      description: Current and historical income statements of publicly listed companies
      operationId: company_income_statement_reportify_api_v2_stock_company_income_statement_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyIncomeStatementInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-balance-sheet:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Balance Sheet
      description: Current and historical balance sheet of publicly listed companies
      operationId: company_balance_sheet_reportify_api_v2_stock_company_balance_sheet_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyBalanceSheetInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-cashflow-statement:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Cashflow Statement
      description: Current and historical cash flow statement of publicly listed companies
      operationId: company_cashflow_statement_reportify_api_v2_stock_company_cashflow_statement_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyCashflowStatementInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-revenue-breakdown:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Revenue Breakdown
      description: Revenue breakdown of the company, by business segment, by product, or by region
      operationId: company_revenue_breakdown_reportify_api_v2_stock_company_revenue_breakdown_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyRevenueBreakdownInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/index-quote:
    post:
      tags:
      - openapi-v2-stock
      summary: Index Quote
      description: Get stock index quote
      operationId: index_quote_reportify_api_v2_stock_index_prices_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndexQuoteInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/ipo-calendar-hk:
    post:
      tags:
      - openapi-stock-tools
      summary: Stock IPO Calendar HK
      description: Retrieve the latest Hong Kong IPO calendar, including subscription periods, listing dates, ipo names, temporary symbols, and current status
      operationId: stock_ipo_calendar_hk_reportify_api_v1_stock_ipo_calendar_hk_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockIPOCalendarHKInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
      - BearerAuth: []
  /v1/stock/index-tracking-funds:
    post:
      tags:
      - openapi-stock-tools
      summary: Index Tracking Funds
      description: Get list of funds that track a specific index. Returns fund names, short names, and fund codes for all tracking funds of the given index
      operationId: index_tracking_funds_reportify_api_v1_stock_index_tracking_funds_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndexFundsInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
      - BearerAuth: []
  /v1/stock/index-constituents:
    post:
      tags:
      - openapi-stock-tools
      summary: Index Constituents
      description: Get list of stocks that are constituents of a specific index. Returns stock symbols and market areas for all constituent stocks of the given index
      operationId: index_constituents_reportify_api_v1_stock_index_constituents_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndexConstituentsInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
      - BearerAuth: []
  /v1/stock/industry-constituents:
    post:
      tags:
      - openapi-stock-tools
      summary: Industry Constituents
      description: Get list of stocks belonging to a specific industry by industry name and market area (cn/hk/us). Returns stock symbols, names, and industry classification details
      operationId: industry_constituents_reportify_api_v1_stock_industry_constituents_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndustryConstituentsInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
      - BearerAuth: []
  /v1/stock/earnings-calendar:
    post:
      tags:
      - openapi-stock-tools
      summary: Stock Earnings Calendar
      description: Query stock earnings calendar by date range and market area (cn/hk/us). Returns fiscal year, quarter, and filing dates for earnings reports
      operationId: stock_earnings_calendar_reportify_api_v1_stock_earnings_calendar_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockEarningsCalendarInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
      - BearerAuth: []
  /v1/chat/completion:
    post:
      tags:
      - openapi-chat
      summary: Chat Completion
      description: Provides answering based on document content.
      operationId: chat_completion_reportify_api_v1_chat_completion_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIChatCompletionRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIChatCompletionResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/concepts/today:
    get:
      tags:
      - openapi-concepts
      summary: Get Today Concepts
      description: Get today's concept feeds with trending data and event counts. Returns concepts from 9:00 AM today until now, including generation counts, earliest/latest timestamps, and event frequencies
      operationId: get_today_concept_feeds_reportify_api_v1_concepts_today_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/concepts/latest:
    get:
      tags:
      - openapi-concepts
      summary: Get Latest Concepts
      description: get latest concepts
      operationId: get_latest_concepts_reportify_api_v1_concepts_latest_get
      parameters:
      - description: include docs
        required: false
        schema:
          type: boolean
          title: Include Docs
          description: include docs
          default: true
        name: include_docs
        in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/search:
    post:
      tags:
      - openapi-channels
      summary: Search Channels
      description: Search for channels by query string
      operationId: search_channels_reportify_api_v1_channels_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAISearchChannelRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchChannelPagination'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/followings:
    get:
      tags:
      - openapi-channels
      summary: Get Following Channels
      description: Get list of channels user is following
      operationId: get_following_channels_reportify_api_v1_channels_followings_get
      parameters:
      - required: false
        schema:
          type: integer
          title: Page Num
          default: 1
        name: page_num
        in: query
      - required: false
        schema:
          type: integer
          title: Page Size
          default: 10
        name: page_size
        in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchChannelPagination'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/{channel_id}/follow:
    post:
      tags:
      - openapi-channels
      summary: Follow Channel
      description: Follow a specific channel by ID
      operationId: follow_channel_reportify_api_v1_channels__channel_id__follow_post
      parameters:
      - description: Channel ID
        required: true
        schema:
          type: string
          title: Channel Id
          description: Channel ID
        name: channel_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIChannelResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/{channel_id}/unfollow:
    delete:
      tags:
      - openapi-channels
      summary: Unfollow Channel
      description: Unfollow a specific channel by ID
      operationId: unfollow_channel_reportify_api_v1_channels__channel_id__unfollow_delete
      parameters:
      - description: Channel ID
        required: true
        schema:
          type: string
          title: Channel Id
          description: Channel ID
        name: channel_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatusMessage'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/followings/docs:
    get:
      tags:
      - openapi-channels
      summary: Get Channel Docs
      description: Get documents from followed channels
      operationId: get_channel_docs_reportify_api_v1_channels_followings_docs_get
      parameters:
      - description: Channel IDs
        required: false
        schema:
          type: string
          title: Channel Ids
          description: Channel IDs
        name: channel_ids
        in: query
      - required: false
        schema:
          type: integer
          title: Page Num
          default: 1
        name: page_num
        in: query
      - required: false
        schema:
          type: integer
          title: Page Size
          default: 10
        name: page_size
        in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIChannelDocPagination'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations:
    post:
      tags:
      - openapi-agent
      summary: Create Conversation
      description: Create a new agent conversation
      operationId: create_conversation_reportify_api_v1_agent_conversations_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIAgentConversationCreateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIAgentConversationCreateResponse'
              example:
                id: 123456789
                user_id: 987654321
                agent_id: 11887655289749510
                type: "agent_chat"
                title: "nvidia 最新业绩分析"
                status: "active"
                created_at: 1765851195760
                updated_at: 1765851195768
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/chat:
    post:
      tags:
      - openapi-agent
      summary: Chat
      description: Chat with agent (streaming or non-streaming)
      operationId: chat_reportify_api_v1_agent_conversations__conversation_id__chat_post
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIAgentConversationChatRequest'
        required: true
      responses:
        '200':
          description: Successful Response (Server-Sent Events stream)
          headers:
            X-REPORTIFY-ASSISTANT-MESSAGE-ID:
              description: 助手消息 ID，可用于后续调用获取消息事件接口
              schema:
                type: string
                example: "019b24ef238cc97730971a9a0080c99c"
          content:
            text/event-stream:
              schema:
                $ref: '#/components/schemas/WorkflowStreamEvent'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}:
    get:
      tags:
      - openapi-agent
      summary: Get Conversation
      description: Get agent conversation details
      operationId: get_conversation_reportify_api_v1_agent_conversations__conversation_id__get
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIAgentConversationRead'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/messages:
    get:
      tags:
      - openapi-agent
      summary: List Conversation Messages
      description: List agent conversation messages
      operationId: list_conversation_messages_reportify_api_v1_agent_conversations__conversation_id__messages_get
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      - required: false
        schema:
          type: integer
          maximum: 100
          minimum: 1
          title: Limit
          description: Number of messages to return
          default: 10
        name: limit
        in: query
        description: 返回的消息数量
        example: 10
      - required: false
        schema:
          type: integer
          title: Before Message Id
          description: Fetch messages created before this message id
        name: before_message_id
        in: query
        description: 获取此消息 ID 之前创建的消息
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  messages:
                    type: array
                    items:
                      $ref: '#/components/schemas/OAIAgentConversationMessageRead'
                    description: 消息列表
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/messages/{assistant_message_id}:
    get:
      tags:
      - openapi-agent
      summary: Get Assistant Message Events
      description: Get assistant message events (streaming or non-streaming) from a specific offset
      operationId: get_assistant_message_events_reportify_api_v1_agent_conversations__conversation_id__messages__assistant_message_id__get
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      - required: true
        schema:
          type: string
          title: Assistant Message Id
          description: 助手消息 ID（从 chat 接口响应头 X-REPORTIFY-ASSISTANT-MESSAGE-ID 获取）
        name: assistant_message_id
        in: path
        example: "019b24ef238cc97730971a9a0080c99c"
      - required: false
        schema:
          type: boolean
          title: Stream
          description: Stream events via SSE when true
          default: true
        name: stream
        in: query
        description: 是否使用流式响应（SSE）
      - required: false
        schema:
          type: integer
          title: Timeout
          description: Timeout in seconds for streaming mode
          default: 1800
        name: timeout
        in: query
        description: 流式模式的超时时间（秒）
      - required: false
        schema:
          type: integer
          minimum: 0
          title: From Offset
          description: Start streaming from specific offset
          default: 0
        name: from_offset
        in: query
        description: 从指定偏移量开始获取事件
        example: 9200
      responses:
        '200':
          description: Successful Response (Server-Sent Events stream or JSON array)
          content:
            text/event-stream:
              schema:
                $ref: '#/components/schemas/WorkflowStreamEvent'
            application/json:
              schema:
                type: object
                properties:
                  assistant_events:
                    type: array
                    items:
                      $ref: '#/components/schemas/WorkflowStreamEvent'
                    description: 事件列表
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/messages/{assistant_message_id}/cancel:
    post:
      tags:
      - openapi-agent
      summary: Cancel Agent Execution
      description: Cancel agent execution
      operationId: cancel_agent_execution_reportify_api_v1_agent_conversations__conversation_id__messages__assistant_message_id__cancel_post
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      - required: true
        schema:
          type: string
          title: Assistant Message Id
          description: 助手消息 ID（从 chat 接口响应头 X-REPORTIFY-ASSISTANT-MESSAGE-ID 获取）
        name: assistant_message_id
        in: path
        example: "019b24ef238cc97730971a9a0080c99c"
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIAgentConversationExecutionCancelResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/files/{file_id}:
    get:
      tags:
      - openapi-agent
      summary: Get Agent File
      description: Get agent generated file by file ID
      operationId: get_agent_file_reportify_api_v1_agent_files__file_id__get
      parameters:
      - required: true
        schema:
          type: string
          title: File Id
          description: Agent generated file ID
        name: file_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '404':
          description: File not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/tools/user/followed-companies:
    get:
      tags:
      - openapi-tools-user
      summary: Get Followed Companies
      description: Get all companies followed by a user
      operationId: get_followed_companies_reportify_api_v1_tools_user_followed_companies_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FollowedCompaniesResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/tools/kb/search:
    post:
      tags:
      - openapi-tools-kb
      summary: Search Knowledge Base
      description: User knowledge base search, supporting all types of user uploaded files and allows searching within specified directories
      operationId: search_kb_reportify_api_v1_tools_kb_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIKBSearchRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KBSearchOutput'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/tools/timeline/companies:
    post:
      tags:
      - openapi-tools-timeline
      summary: Companies Timeline
      description: Document feed for the companies I follow
      operationId: companies_timeline_reportify_api_v1_tools_timeline_companies_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAITimelineToolsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimelineToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/tools/timeline/topics:
    post:
      tags:
      - openapi-tools-timeline
      summary: Topics Timeline
      description: Document feed for the topics I follow
      operationId: topics_timeline_reportify_api_v1_tools_timeline_topics_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAITimelineToolsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimelineToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/tools/timeline/institutes:
    post:
      tags:
      - openapi-tools-timeline
      summary: Institutes Timeline
      description: Document feed for the institutes I follow
      operationId: institutes_timeline_reportify_api_v1_tools_timeline_institutes_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAITimelineToolsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimelineToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/tools/timeline/public-media:
    post:
      tags:
      - openapi-tools-timeline
      summary: Public Media Timeline
      description: Document feed for the public media I follow
      operationId: public_media_timeline_reportify_api_v1_tools_timeline_public_media_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAITimelineToolsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimelineToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/tools/timeline/social-media:
    post:
      tags:
      - openapi-tools-timeline
      summary: Social Media Timeline
      description: Document feed for the social media I follow
      operationId: social_media_timeline_reportify_api_v1_tools_timeline_social_media_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAITimelineToolsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimelineToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/indicators:
    get:
      tags:
      - openapi-quant
      summary: List available indicators
      description: |
        List all available technical indicators.

        **How to Use:** All indicators are functions, call with parentheses: `MA(CLOSE, 20)`, `RSI(14)`, `MACD()`

        **Core Functions (Level 0, TongDaXin style: col first, n second):**
        - Math: `ABS()`, `LN()`, `POW()`, `SQRT()`, `SIN()`, `COS()`, `TAN()`, `MAX()`, `MIN()`
        - Moving Averages: `MA(col, n)`, `EMA(col, n)`, `SMA(col, n, m)`, `DMA(col, alpha)`, `WMA(col, n)`
        - Statistics: `HHV(col, n)`, `LLV(col, n)`, `STD(col, n)`, `AVEDEV(col, n)`, `SUM(col, n)`, `REF(col, n)`
        - Logic: `IF()`, `CONST()`, `DIFF(col, n)`, `RD()`, `RET()`

        **Application Functions (Level 1, need parentheses):**
        - Crossover: `CROSS()`, `CROSSDOWN()`, `LONGCROSS()`
        - Counting: `COUNT()`, `EVERY()`, `EXIST()`, `BARSLAST()`, `LAST()`
        - Value: `VALUEWHEN()`, `BETWEEN()`

        **Trend Indicators (Level 2):** `MACD()`, `BOLL()`, `TAQ()`, `KTN()`, `EXPMA()`, `BBI()`

        **Momentum Indicators (Level 2):** `KDJ()`, `RSI()`, `WR()`, `CCI()`, `BIAS()`, `PSY()`, `MTM()`, `ROC()`

        **Volatility Indicators (Level 2):** `ATR()`, `DMI()`, `TRIX()`, `VR()`, `CR()`, `EMV()`, `DPO()`, `BRAR()`, `DFMA()`, `MASS()`, `OBV()`, `MFI()`, `ASI()`, `XSII()`

        Returns indicators with:
        - `name`: Indicator name for use in formulas (call with parentheses)
        - `description`: Brief description
        - `fields`: Output field names (e.g., ["dif", "dea", "macd"] for MACD)
      operationId: indicators
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                title: Response List Indicators
                description: Indicator metadata
                items:
                  $ref: '#/components/schemas/IndicatorMeta'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/indicators/compute:
    post:
      tags:
      - openapi-quant
      summary: Compute indicator values
      description: |
        Compute indicator values for given symbols and date range.

        **Variables vs Functions:**
        - Variables (no parentheses): `CLOSE`, `OPEN`, `HIGH`, `LOW`, `VOLUME` (aliases: `C`, `O`, `H`, `L`, `V`, `VOL`)
        - Functions (with parentheses): `MA(CLOSE, 20)`, `RSI(14)`, `MACD()`, etc.

        **Core Function Examples (Level 0, TongDaXin style: col first, n second):**
        - `MA(CLOSE, 20)` - 20-day Simple Moving Average
        - `EMA(CLOSE, 12)` - 12-day Exponential Moving Average
        - `HHV(HIGH, 20)` - Highest value in 20 days
        - `STD(CLOSE, 20)` - 20-day Standard Deviation
        - `REF(CLOSE, 1)` - Yesterday's close

        **Application Function Examples (Level 1):**
        - `CROSS(MA(CLOSE, 5), MA(CLOSE, 20))` - MA5 crosses above MA20
        - `COUNT(CLOSE > REF(CLOSE, 1), 10)` - Count up days in 10 periods
        - `EVERY(CLOSE > REF(CLOSE, 1), 3)` - Up 3 consecutive days

        **Trend Indicator Examples (Level 2):**
        - `MACD()` - MACD with default parameters (12, 26, 9)
        - `BOLL(20, 2)` - Bollinger Bands with period 20 and 2 std dev
        - `KTN(20, 10)` - Keltner Channel

        **Momentum Indicator Examples (Level 2):**
        - `RSI(14)` - RSI with period 14
        - `KDJ(9, 3, 3)` - KDJ with custom parameters
        - `CCI(14)` - Commodity Channel Index

        **Volatility Indicator Examples (Level 2):**
        - `ATR(14)` - Average True Range
        - `DMI(14, 6)` - Directional Movement Index
        - `OBV()` - On Balance Volume

        **Response Fields:**
        Each indicator returns its specific fields:
        - RSI: `rsi`
        - MACD: `dif`, `dea`, `macd`
        - KDJ: `k`, `d`, `j`
        - BOLL: `upper`, `middle`, `lower`
        - DMI: `pdi`, `mdi`, `adx`, `adxr`
      operationId: indicators_compute
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndicatorComputeInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IndicatorComputeOutput'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/factors:
    get:
      tags:
      - openapi-quant
      summary: List available factors
      description: |
        List all available factors (variables and functions) for formula computation.

        **How to Use:**
        - `type="variable"`: Use directly without parentheses, e.g. `CLOSE`, `VOLUME`
        - `type="function"`: Call with parentheses, e.g. `MA(CLOSE, 20)`, `PE()`, `ROE()`

        **Technical Factors (Level 0-2):**
        - **Level 0 Variables** (no parentheses): `CLOSE`, `OPEN`, `HIGH`, `LOW`, `VOLUME` and aliases
        - **Level 0 Functions** (TongDaXin style: col first, n second): `MA(col, n)`, `EMA(col, n)`, `REF(col, n)`, `HHV(col, n)`, `LLV(col, n)`, `STD(col, n)`, etc.
        - **Level 1 Functions** (need parentheses): `CROSS()`, `COUNT()`, `EVERY()`, etc.
        - **Level 2 Functions** (need parentheses): `MACD()`, `KDJ()`, `RSI()`, `BOLL()`, etc.

        **Fundamental Factors (Level 2, all need parentheses):**
        - **Data Accessors**: `INCOME.field`, `BALANCESHEET.field`, `CASHFLOW.field`, `EQUITY.field`
        - **Profitability**: `ROE()`, `ROA()`, `GPM()`, `NPM()`, `ROIC()`, etc.
        - **Valuation**: `PE()`, `PE_TTM()`, `PB()`, `PS()`, `PCF()`, `EV()`, `PEG()`, etc.
        - **Solvency**: `CURRENT_RATIO()`, `QUICK_RATIO()`, `DEBT_RATIO()`, etc.
        - **Growth**: `REVENUE_GROWTH_RATE()`, `NET_PROFIT_GROWTH_RATE()`, `EPS_GROWTH_RATE()`, etc.
        - **Operating**: `INVENTORY_TURNOVER()`, `ACCOUNTS_RECEIVABLE_DAYS()`, `TOTAL_ASSET_TURNOVER()`, etc.
        - **Per Share**: `EPS()`, `BPS()`, `OCFPS()`, `REVENUE_PER_SHARE()`, etc.

        Each factor includes:
        - `name`: Factor name for use in formulas
        - `type`: "variable" (no parentheses) or "function" (need parentheses)
        - `level`: 0, 1, or 2
        - `description`: Brief description (Chinese)
        - `description_en`: English description (optional)
      operationId: factors
      parameters:
      - name: market
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/StockMarket'
          default: cn
        description: Stock market (cn, hk, us), default cn
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                title: Response List Factors
                items:
                  $ref: '#/components/schemas/FactorMeta'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/factors/compute:
    post:
      tags:
      - openapi-quant
      summary: Compute factor values
      description: |
        Compute factor values for given symbols and date range.

        The formula uses Mai-language syntax compatible with TongDaXin/TongHuaShun.

        **Variables vs Functions:**
        - Variables (no parentheses): `CLOSE`, `OPEN`, `HIGH`, `LOW`, `VOLUME` (aliases: `C`, `O`, `H`, `L`, `V`, `VOL`)
        - Functions (with parentheses): `MA(CLOSE, 20)`, `RSI(14)`, `PE()`, `ROE()`, etc.
        - Rule: Technical indicators and fundamental factors are functions, need `()`

        **Technical Factor Examples:**
        - `RSI(14)` - RSI indicator with period 14
        - `MACD().dif` - MACD DIF line
        - `CLOSE > MA(CLOSE, 20)` - Close above 20-day MA (boolean)
        - `(CLOSE - MA(CLOSE, 20)) / MA(CLOSE, 20) * 100` - Deviation from MA20 in percent

        **Fundamental Factor Examples (all need parentheses):**
        - `PE()` - Price to Earnings ratio
        - `PE_TTM()` - P/E ratio (TTM)
        - `PB()` - Price to Book ratio
        - `ROE()` - Return on Equity
        - `ROA()` - Return on Assets
        - `INCOME.net_profit` - Net profit from income statement (data accessor)
        - `BALANCESHEET.total_assets` - Total assets from balance sheet (data accessor)
        - `PE() < 20` - Stocks with P/E less than 20
        - `ROE() > 0.15` - Stocks with ROE greater than 15%

        **Supported Operators:**
        - Comparison: `>`, `<`, `>=`, `<=`, `==`, `!=`
        - Logical: `&` or `AND`, `|` or `OR`, `~` or `NOT` (case-insensitive)
        - Arithmetic: `+`, `-`, `*`, `/`
        - **Important: expressions on both sides of logical operators (`&`/`|`/`AND`/`OR`) must be wrapped in parentheses `()`**

        **Supported Variables (no parentheses):**
        - `CLOSE`, `C` - Close price
        - `OPEN`, `O` - Open price
        - `HIGH`, `H` - High price
        - `LOW`, `L` - Low price
        - `VOLUME`, `V`, `VOL` - Volume

        **Supported Functions (TongDaXin style: col first, n second):**
        - Level 0: MA(col, n), EMA(col, n), SMA(col, n, m), REF(col, n), HHV(col, n), LLV(col, n), STD(col, n), SUM(col, n), ABS(), MAX(), MIN(), IF()...
        - Level 1: CROSS(), CROSSDOWN(), COUNT(), EVERY(), EXIST(), BARSLAST()...
        - Level 2 Technical: RSI(), MACD(), BOLL(), KDJ(), WR(), ATR(), CCI(), BIAS(), PSY()...
        - Level 2 Fundamental: PE(), PB(), PS(), ROE(), ROA(), EPS(), BPS(), CURRENT_RATIO()...
      operationId: factors_compute
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FactorComputeInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactorComputeOutput'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/factors/screen:
    post:
      tags:
      - openapi-quant
      summary: Screen stocks by factor
      description: |
        Screen stocks based on factor formula.

        Returns stocks where the formula evaluates to True (for boolean formulas)
        or non-null (for numeric formulas).

        **Variables vs Functions:**
        - Variables (no parentheses): `CLOSE`, `OPEN`, `HIGH`, `LOW`, `VOLUME` (aliases: `C`, `O`, `H`, `L`, `V`, `VOL`)
        - Functions (with parentheses): `MA(CLOSE, 20)`, `RSI(14)`, `PE()`, `ROE()`, etc.
        - Rule: Technical indicators and fundamental factors are functions, need `()`

        **Technical Screening Examples:**
        - `RSI(14) < 30` - RSI oversold
        - `CROSS(MA(CLOSE, 5), MA(CLOSE, 10))` - Golden cross (MA5 crosses above MA10)
        - `CROSSDOWN(MA(CLOSE, 5), MA(CLOSE, 10))` - Death cross (MA5 crosses below MA10)
        - `(CLOSE > MA(CLOSE, 20)) & (MA(CLOSE, 20) > MA(CLOSE, 60))` - Uptrend with MA alignment
        - `CLOSE > BOLL(20, 2).upper` - Above upper Bollinger Band
        - `(KDJ().j < 20) & (CROSS(KDJ().k, KDJ().d))` - KDJ low golden cross
        - `MACD().dif > MACD().dea` - MACD bullish
        - `CLOSE > REF(CLOSE, 1) * 1.05` - Up more than 5% from yesterday
        - `CLOSE > HHV(HIGH, 20)` - New 20-day high
        - `COUNT(CLOSE > REF(CLOSE, 1), 5) >= 4` - Up at least 4 of last 5 days
        - `EVERY(CLOSE > REF(CLOSE, 1), 3)` - Up 3 consecutive days
        - `(CLOSE > MA(CLOSE, 10)) & (MA(CLOSE, 10) > MA(CLOSE, 20)) & (MA(CLOSE, 20) > MA(CLOSE, 60))` - Multi-MA bullish
        - `(MA(CLOSE, 10) > REF(MA(CLOSE, 10), 5)) & (MA(CLOSE, 20) > REF(MA(CLOSE, 20), 5))` - MA trending up
        - `VOLUME > MA(VOLUME, 20) * 2` - Volume spike (2x 20-day average)

        **Fundamental Screening Examples (all need parentheses):**
        - `PE() < 15` - Low P/E stocks
        - `PE_TTM() < 20` - P/E TTM under 20
        - `PB() < 1` - Price below book value
        - `ROE() > 0.15` - ROE greater than 15%
        - `(PE() < 20) & (ROE() > 0.1)` - Value + quality
        - `(PE_TTM() < 15) & (PB() < 2) & (ROE() > 0.12)` - Multi-factor value screening
        - `REVENUE_GROWTH_RATE() > 0.2` - Revenue growth > 20%
        - `NET_PROFIT_GROWTH_RATE() > 0.3` - Net profit growth > 30%
        - `CURRENT_RATIO() > 2` - Strong liquidity
        - `DEBT_TO_EQUITY_RATIO() < 0.5` - Low leverage
        - `GPM() > 0.3` - Gross profit margin > 30%

        **Combined Technical + Fundamental:**
        - `(PE() < 20) & (RSI(14) < 40)` - Cheap + oversold
        - `(ROE() > 0.12) & (CLOSE > MA(CLOSE, 20))` - Quality + uptrend
        - `(PB() < 1.5) & (CROSS(MA(CLOSE, 5), MA(CLOSE, 20)))` - Value + golden cross

        **Supported Operators:**
        - Comparison: `>`, `<`, `>=`, `<=`, `==`, `!=`
        - Logical: `&` or `AND`, `|` or `OR`, `~` or `NOT` (case-insensitive)
        - Arithmetic: `+`, `-`, `*`, `/`
        - **Important: expressions on both sides of logical operators (`&`/`|`/`AND`/`OR`) must be wrapped in parentheses `()`**

        **Supported Variables (no parentheses):**
        - `CLOSE`, `C` - Close price
        - `OPEN`, `O` - Open price
        - `HIGH`, `H` - High price
        - `LOW`, `L` - Low price
        - `VOLUME`, `V`, `VOL` - Volume

        **Supported Functions (TongDaXin style: col first, n second):**
        - Level 0: MA(col, n), EMA(col, n), SMA(col, n, m), REF(col, n), HHV(col, n), LLV(col, n), STD(col, n), SUM(col, n), ABS(), MAX(), MIN(), IF()...
        - Level 1: CROSS(), CROSSDOWN(), COUNT(), EVERY(), EXIST(), BARSLAST()...
        - Level 2 Technical: RSI(), MACD(), BOLL(), KDJ(), WR(), ATR(), CCI(), BIAS(), PSY()...
        - Level 2 Fundamental: PE(), PB(), PS(), ROE(), ROA(), EPS(), BPS(), CURRENT_RATIO()...
      operationId: factors_screen
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FactorScreenInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactorScreenOutput'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/quotes/ohlcv:
    get:
      tags:
      - openapi-quant
      summary: Get OHLCV data
      description: |
        Get OHLCV (Open, High, Low, Close, Volume) daily data for a single symbol.

        - **symbol**: Stock code (required)
        - **market**: Stock market (cn, hk, us), default: cn
        - **start_date**: Start date (optional, default: 1 months ago)
        - **end_date**: End date (optional, default: today)
      operationId: quote_ohlcv
      parameters:
      - name: symbol
        in: query
        required: true
        schema:
          type: string
          title: Symbol
        description: Stock code (e.g., 600519, 00700, AAPL)
      - name: market
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/StockMarket'
          default: cn
      - name: start_date
        in: query
        required: false
        schema:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: Start Date
      - name: end_date
        in: query
        required: false
        schema:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: End Date
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OHLCVOutput'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/quotes/ohlcv/batch:
    post:
      tags:
      - openapi-quant
      summary: Get batch OHLCV data for multiple symbols
      description: |
        Get OHLCV (Open, High, Low, Close, Volume) daily data for multiple symbols.

        - **symbols**: List of stock code (required)
        - **market**: Stock market (cn, hk, us), default: cn
        - **start_date**: Start date (optional, default: 1 month ago)
        - **end_date**: End date (optional, default: today)

        Returns data sorted by date (descending), then by symbol.
      operationId: quote_ohlcv_batch
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchOHLCVInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchOHLCVOutput'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/quant/backtest:
    post:
      tags:
      - openapi-quant
      summary: Run strategy backtest
      description: |
        Execute strategy backtest with the given parameters.

        **Variables vs Functions:**
        - Variables (no parentheses): `CLOSE`, `OPEN`, `HIGH`, `LOW`, `VOLUME`
        - Functions (with parentheses): `MA(CLOSE, 20)`, `RSI(14)`, `PE()`, `ROE()`, etc.

        **Input Parameters:**
        - `start_date`: Backtest start date (required)
        - `end_date`: Backtest end date (required)
        - `market`: Stock market (cn, hk, us), default: cn
        - `symbol`: Stock code (required)
        - `entry_formula`: Buy/entry formula, triggers buy when result > 0 (required)
        - `exit_formula`: Sell/exit formula, triggers sell when result > 0 (optional)
        - `initial_cash`: Initial capital, default: 100000.0
        - `commission`: Commission rate, default: 0.0
        - `stop_loss`: Stop loss percentage, default: 0.0 (disabled)
        - `sizer_percent`: Position size percentage, default: 99%
        - `auto_close`: Auto close position at end, default: true
        - `labels`: Label dictionary for returning additional indicator values in daily data

        **Formula Examples:**
        - `CROSS(MA(CLOSE, 5), MA(CLOSE, 20))` - Golden cross signal
        - `RSI(14) < 30` - RSI oversold
        - `MA(CLOSE, 5) > MA(CLOSE, 20)` - State-based uptrend
        - `CLOSE > REF(CLOSE, 1) * 1.05` - Up more than 5%
        - `(PE() < 20) & (ROE() > 0.1)` - Fundamental screening

        **Output:**
        Returns backtest results including:
        - Performance metrics (return, drawdown, win rate, etc.)
        - Trade list with entry/exit details
        - Daily data with OHLC and label values
      operationId: quant_backtest
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BacktestInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BacktestOutput'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []

components:
  schemas:
    Body_create_token_reportify_api_v1_oauth_token_post:
      properties:
        grant_type:
          type: string
          title: Grant Type
        client_assertion_type:
          type: string
          title: Client Assertion Type
        client_assertion:
          type: string
          title: Client Assertion
      type: object
      required:
      - grant_type
      - client_assertion_type
      - client_assertion
      title: Body_create_token_reportify_api_v1_oauth_token_post
    Body_upload_doc_by_form_reportify_api_v1_docs_upload_form_post:
      properties:
        file:
          type: string
          format: binary
          title: File
        folder_id:
          type: string
          title: Folder Id
          description: Folder ID, if you do not pass it, use the default folder
        name:
          type: string
          title: Name
          description: File name, if you do not pass it, use the file name in the
            URL
        metadatas:
          type: string
          title: Metadatas
          description: 'metadatas json string, example: {"period": "2023Q4", "entities":
            ["companyA", "companyB"]}'
        published_at:
          type: integer
          title: Published At
          description: Document release time, millisecond time stamp
        tags:
          type: string
          title: Tags
          description: 'Document tag list, json string, example: {"key": ["value1",
            "value2"]}'
      type: object
      required:
      - file
      title: Body_upload_doc_by_form_reportify_api_v1_docs_upload_form_post
    CompanyLabel:
      properties:
        name:
          type: string
          title: Name
        logo:
          type: string
          title: Logo
        stocks:
          items:
            $ref: '#/components/schemas/CompanyStock'
          type: array
          title: Stocks
      type: object
      required:
      - name
      title: CompanyLabel
    CompanyStock:
      properties:
        symbol:
          type: string
          title: Symbol
        market:
          type: string
          title: Market
        code:
          type: string
          title: Code
      type: object
      required:
      - symbol
      - market
      - code
      title: CompanyStock
    DateRangeEnum:
      type: string
      enum:
      - h
      - d
      - w
      - m
      - y
      title: DateRangeEnum
      description: An enumeration.
    DocsUploadStatusEnum:
      type: string
      enum:
      - pending
      - processing
      - completed
      title: DocsUploadStatusEnum
      description: An enumeration.
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    ErrorResponse:
      properties:
        status:
          type: integer
          title: Status
          description: HTTP status code
        code:
          type: integer
          title: Code
          description: Error code
        message:
          type: string
          title: Message
          description: Error message
      type: object
      title: ErrorResponse
      description: Standard error response
    OAIChannelDocPagination:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        docs:
          items:
            $ref: '#/components/schemas/OAIDoc'
          type: array
          title: Docs
          description: List of doc responses.
      type: object
      title: OAIChannelDocPagination
    OAIChannelResponse:
      properties:
        id:
          type: string
          title: Id
          description: channel ID
        name:
          type: string
          title: Name
          description: channel name
        description:
          type: string
          title: Description
          description: channel description
          nullable: true
        avatar_url:
          type: string
          title: Avatar Url
          description: channel avatar
          nullable: true
        following:
          type: boolean
          title: Following
          description: follow flag
          default: false
          nullable: true
      type: object
      required:
      - id
      - name
      title: OAIChannelResponse
    OAIChatCompletionRequest:
      properties:
        query:
          type: string
          title: Query
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default: []
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        mode:
          allOf:
          - $ref: '#/components/schemas/OAIChatMode'
          default: concise
        session_id:
          type: string
          title: Session Id
          default: ''
        stream:
          type: boolean
          title: Stream
          default: true
      type: object
      required:
      - query
      title: OAIChatCompletionRequest
    OAIChatCompletionResponse:
      properties:
        type:
          type: string
          title: Type
        message_id:
          type: string
          title: Message Id
        message:
          type: string
          title: Message
        extra:
          type: object
          title: Extra
          default: {}
      type: object
      required:
      - type
      - message_id
      - message
      title: OAIChatCompletionResponse
    OAIChatMode:
      type: string
      enum:
      - concise
      - comprehensive
      - deepresearch
      title: OAIChatMode
      description: An enumeration.
    OAIChunk:
      properties:
        id:
          type: string
          title: Id
        type:
          $ref: '#/components/schemas/OAIChunkType'
        media_url:
          type: string
          title: Media Url
        content:
          type: string
          title: Content
        summary:
          type: string
          title: Summary
        metadata:
          type: object
          title: Metadata
      type: object
      title: OAIChunk
    OAIChunkType:
      type: string
      enum:
      - text
      - table
      - image
      - formula
      title: OAIChunkType
      description: An enumeration.
    OAIChunkWithDoc:
      properties:
        id:
          type: string
          title: Id
        type:
          $ref: '#/components/schemas/OAIChunkType'
        media_url:
          type: string
          title: Media Url
        content:
          type: string
          title: Content
        summary:
          type: string
          title: Summary
        metadata:
          type: object
          title: Metadata
        doc:
          anyOf:
          - $ref: '#/components/schemas/OAIDoc'
          - $ref: '#/components/schemas/OAIDocBase'
          title: Doc
      type: object
      title: OAIChunkWithDoc
    OAIDoc:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
        institution:
          type: string
          title: Institution
        author:
          type: string
          title: Author
        published_at:
          type: integer
          title: Published At
        category:
          $ref: '#/components/schemas/OAIDocCategory'
        market:
          $ref: '#/components/schemas/OAIMarket'
        ticker:
          type: string
          title: Ticker
        symbol:
          type: string
          title: Symbol
        company_name:
          type: string
          title: Company Name
        logo:
          type: string
          title: Logo
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        metadatas:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Metadatas
        report_type:
          type: integer
          title: Report Type
        channel_id:
          type: string
          title: Channel Id
        channel_name:
          type: string
          title: Channel Name
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDoc
    OAIDocBase:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDocBase
    OAIDocCategory:
      type: string
      enum:
      - financials
      - transcripts
      - reports
      - news
      - files
      - filings
      - socials
      title: OAIDocCategory
      description: An enumeration.
    OAIDocContentsResponse:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
        institution:
          type: string
          title: Institution
        author:
          type: string
          title: Author
        published_at:
          type: integer
          title: Published At
        category:
          $ref: '#/components/schemas/OAIDocCategory'
        market:
          $ref: '#/components/schemas/OAIMarket'
        ticker:
          type: string
          title: Ticker
        symbol:
          type: string
          title: Symbol
        company_name:
          type: string
          title: Company Name
        logo:
          type: string
          title: Logo
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        metadatas:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Metadatas
        report_type:
          type: integer
          title: Report Type
        channel_id:
          type: string
          title: Channel Id
        channel_name:
          type: string
          title: Channel Name
        file_url:
          type: string
          title: File Url
        media_url:
          type: string
          title: Media Url
        chunks:
          items:
            $ref: '#/components/schemas/OAIChunk'
          type: array
          title: Chunks
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDocContentsResponse
    OAIDocDetail:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
        institution:
          type: string
          title: Institution
        author:
          type: string
          title: Author
        published_at:
          type: integer
          title: Published At
        category:
          $ref: '#/components/schemas/OAIDocCategory'
        market:
          $ref: '#/components/schemas/OAIMarket'
        ticker:
          type: string
          title: Ticker
        symbol:
          type: string
          title: Symbol
        company_name:
          type: string
          title: Company Name
        logo:
          type: string
          title: Logo
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        metadatas:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Metadatas
        report_type:
          type: integer
          title: Report Type
        channel_id:
          type: string
          title: Channel Id
        channel_name:
          type: string
          title: Channel Name
        file_url:
          type: string
          title: File Url
        media_url:
          type: string
          title: Media Url
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDocDetail
    OAIDocSummaryResponse:
      properties:
        doc_id:
          type: string
          title: Doc Id
        summary:
          type: string
          title: Summary
      type: object
      required:
      - doc_id
      - summary
      title: OAIDocSummaryResponse
    OAIDocsDeleteRequest:
      properties:
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
      type: object
      required:
      - doc_ids
      title: OAIDocsDeleteRequest
    OAIDocsDeleteResponse:
      properties:
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
      type: object
      required:
      - doc_ids
      title: OAIDocsDeleteResponse
    OAIDocsIdResponse:
      properties:
        id:
          type: string
          title: Id
        title:
          type: string
          title: Title
        original_url:
          type: string
          title: Original Url
      type: object
      required:
      - id
      - title
      - original_url
      title: OAIDocsIdResponse
    OAIDocsListRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
      type: object
      title: OAIDocsListRequest
    OAIDocsResponse:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        docs:
          items:
            $ref: '#/components/schemas/OAIDoc'
          type: array
          title: Docs
          default: []
      type: object
      title: OAIDocsResponse
    OAIDocsSymbolsRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        symbols:
          items:
            type: string
          type: array
          title: Symbols
      type: object
      required:
      - symbols
      title: OAIDocsSymbolsRequest
    OAIDocsTagsRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
      type: object
      required:
      - tags
      title: OAIDocsTagsRequest
    OAIDocsUploadRequest:
      properties:
        docs:
          items:
            $ref: '#/components/schemas/OAIDocsUrlRequest'
          type: array
          title: Docs
        folder_id:
          type: string
          title: Folder Id
          description: 文件夹ID，不传则使用默认文件夹
        pdf_parsing_mode:
          type: integer
          title: Pdf Parsing Mode
          description: 'pdf解析模式: 1-按页,3-按逻辑 @see PDFParsingModeEnum'
          default: 1
      type: object
      required:
      - docs
      title: OAIDocsUploadRequest
    OAIDocsUploadResponse:
      properties:
        docs:
          items:
            $ref: '#/components/schemas/OAIDocsIdResponse'
          type: array
          title: Docs
      type: object
      required:
      - docs
      title: OAIDocsUploadResponse
    OAIDocsUploadStatusResponse:
      properties:
        id:
          type: string
          title: Id
        status:
          $ref: '#/components/schemas/DocsUploadStatusEnum'
      type: object
      required:
      - id
      - status
      title: OAIDocsUploadStatusResponse
    OAIDocsUrlRequest:
      properties:
        url:
          type: string
          title: Url
        name:
          type: string
          title: Name
          description: 文件名称，不传则使用URL中的文件名
        metadatas:
          type: object
          title: Metadatas
          description: 文档元数据，包含 period 和 entities
          example:
            period: 2023Q4
            entities:
            - 公司A
            - 公司B
        published_at:
          type: integer
          title: Published At
          description: 文档发布时间, 毫秒级时间戳
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
          description: 文档标签列表
      type: object
      required:
      - url
      title: OAIDocsUrlRequest
    OAIFolderCreateRequest:
      properties:
        name:
          type: string
          title: Name
      type: object
      required:
      - name
      title: OAIFolderCreateRequest
    OAIFolderDeleteRequest:
      properties:
        folder_id:
          type: string
          title: Folder Id
      type: object
      required:
      - folder_id
      title: OAIFolderDeleteRequest
    OAIFolderDeleteResponse:
      properties:
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
        folder_id:
          type: string
          title: Folder Id
      type: object
      required:
      - doc_ids
      - folder_id
      title: OAIFolderDeleteResponse
    OAIFolderResponse:
      properties:
        folder_id:
          type: string
          title: Folder Id
      type: object
      required:
      - folder_id
      title: OAIFolderResponse
    OAIMarket:
      type: string
      enum:
      - cn
      - hk
      - us
      title: OAIMarket
      description: An enumeration.
    OAISearchChannelPagination:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        channels:
          items:
            $ref: '#/components/schemas/OAIChannelResponse'
          type: array
          title: Channels
          description: List of channel responses.
      type: object
      required:
      - channels
      title: OAISearchChannelPagination
    OAISearchChannelRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        query:
          type: string
          title: Query
          description: Query string or url
      type: object
      required:
      - query
      title: OAISearchChannelRequest
    OAISearchChunksRequest:
      properties:
        query:
          type: string
          title: Query
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        num:
          type: integer
          title: Num
          default: 10
        include_doc_extra_details:
          type: boolean
          title: Include Doc Extra Details
          default: false
        refine_question:
          type: boolean
          title: Refine Question
          default: false
        date_range:
          $ref: '#/components/schemas/DateRangeEnum'
      type: object
      required:
      - query
      title: OAISearchChunksRequest
    OAISearchChunksResponse:
      properties:
        chunks:
          items:
            $ref: '#/components/schemas/OAIChunkWithDoc'
          type: array
          title: Chunks
          default: []
      type: object
      title: OAISearchChunksResponse
    OAISearchDocsRequest:
      properties:
        query:
          type: string
          title: Query
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        mode:
          allOf:
          - $ref: '#/components/schemas/OAISearchMode'
          default: smart
        sort:
          allOf:
          - $ref: '#/components/schemas/OAISearchSort'
          default: smart
        should_highlight:
          type: boolean
          title: Should Highlight
          default: false
      type: object
      title: OAISearchDocsRequest
    OAISearchDocsResponse:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        docs:
          items:
            anyOf:
            - $ref: '#/components/schemas/OAIDoc'
            - $ref: '#/components/schemas/OAIDocDetail'
          type: array
          title: Docs
          default: []
      type: object
      title: OAISearchDocsResponse
    OAISearchMode:
      type: string
      enum:
      - smart
      - semantic
      - keywords
      title: OAISearchMode
      description: An enumeration.
    OAISearchSort:
      type: string
      enum:
      - smart
      - latest
      title: OAISearchSort
      description: An enumeration.
    OAuthTokenResponse:
      properties:
        access_token:
          type: string
          title: Access Token
        expires_in:
          type: integer
          title: Expires In
        token_type:
          type: string
          title: Token Type
          default: bearer
      type: object
      required:
      - access_token
      - expires_in
      title: OAuthTokenResponse
    StatusMessage:
      properties:
        status:
          type: boolean
          title: Status
          default: true
        message:
          type: string
          title: Message
          default: success
      type: object
      title: StatusMessage
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
    SearchToolsEarningsPackRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Fiscal year filter (e.g., '2025', '2026')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: Fiscal quarter filter (e.g., 'Q1', 'Q2', 'Q3', 'Q4')
      type: object
      required:
      - query
      - symbols
      title: SearchToolsEarningsPackRequest
      description: Request model for earnings financial reports search
    SearchToolsConferenceCallsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Fiscal year filter (e.g., '2025', '2026')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: Fiscal quarter filter (e.g., 'Q1', 'Q2', 'Q3', 'Q4')
      type: object
      required:
      - query
      - symbols
      title: SearchToolsConferenceCallsRequest
      description: Request model for earnings call transcripts and slides search
    SearchToolsMinutesRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsMinutesRequest
      description: Request model for conference calls and IR meetings search
    SearchToolsReportsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        industries:
          items:
            type: string
          type: array
          title: Industries
          description: Industries to filter by
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsReportsRequest
      description: Request model for reports search
    SearchToolsFilingsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      - symbols
      title: SearchToolsFilingsRequest
      description: Request model for filings search
    SearchToolsNewsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsNewsRequest
      description: Request model for news search
    SearchToolsSocialsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsSocialsRequest
      description: Request model for socials search
    SearchToolsWebpagesRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsWebpagesRequest
      description: Request model for webpage search
    SearchToolsSearchRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols in market:ticker format (e.g., US:AAPL, HK:00700, SH:600519, SZ:000001)
        industries:
          items:
            type: string
          type: array
          title: Industries
          description: Industries to filter by
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsSearchRequest
      description: Request model for general document search
    SearchToolsResponse:
      properties:
        docs:
          items:
            $ref: '#/components/schemas/SearchToolsDoc'
          type: array
          title: Docs
          description: Search result documents
        total_count:
          type: integer
          title: Total Count
          description: Total number of matching documents
          default: 0
        took_ms:
          type: integer
          title: Took Ms
          description: Search execution time in milliseconds
          default: 0
      type: object
      title: SearchToolsResponse
      description: Response model for all search tools
    SearchToolsDoc:
      properties:
        doc_id:
          type: string
          title: Doc Id
          description: Document ID
        title:
          type: string
          title: Title
          description: Document title
        summary:
          type: string
          title: Summary
          description: Document summary
        category:
          type: string
          title: Category
          description: Document category
        published_at:
          type: integer
          title: Published At
          description: Publication timestamp in milliseconds
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
          description: Related companies
        metadata:
          type: object
          title: Metadata
          description: Document metadata
        score:
          type: number
          title: Score
          description: Relevance score
        url:
          type: string
          title: Url
          description: Document URL
      type: object
      required:
      - doc_id
      - title
      - url
      title: SearchToolsDoc
      description: Individual search result document
    CompanyOverviewInput:
      properties:
        symbols:
          type: string
          title: Symbols
          description: The symbol of the stock. You can enter multiple items, separated by commas(,)
          example: HK:00700,US:AAPL
        names:
          type: string
          title: Names
          description: The name of the stock. You can enter multiple items, separated by commas(,)
          example: 腾讯,苹果
      type: object
      title: CompanyOverviewInput
      description: Input schema for company overview
    CompanyShareholdersInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        type:
          type: string
          title: Type
          description: "Choose 'shareholders' or 'outstanding_shareholders'"
        limit:
          type: integer
          title: Limit
          description: Limit return number, default 10
      type: object
      required:
      - symbol
      title: CompanyShareholdersInput
      description: Input schema for company shareholders
    StockQuoteInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
      type: object
      required:
      - symbol
      title: StockQuoteInput
      description: Input schema for stock quote
    CompanyIncomeStatementInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'annual', 'quarterly', 'cumulative quarterly'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 8
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        calendar:
          type: string
          title: Calendar
          description: "'calendar' or 'fiscal', default 'fiscal'"
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: "Specific fiscal quarter (Q1, Q2, Q3, Q4, FY, H1, 'Q3 (9 months)')"
      type: object
      required:
      - symbol
      title: CompanyIncomeStatementInput
      description: Input schema for company income statement
    CompanyBalanceSheetInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'annual', 'quarterly'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 8
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        calendar:
          type: string
          title: Calendar
          description: "'calendar' or 'fiscal', default 'fiscal'"
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: Specific fiscal quarter (Q1, Q2, Q3, Q4, FY)
      type: object
      required:
      - symbol
      title: CompanyBalanceSheetInput
      description: Input schema for company balance sheet
    CompanyCashflowStatementInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'annual', 'quarterly', 'cumulative quarterly'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 8
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        calendar:
          type: string
          title: Calendar
          description: "'calendar' or 'fiscal', default 'fiscal'"
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: "Specific fiscal quarter (Q1, Q2, Q3, Q4, FY, H1, 'Q3 (9 months)')"
      type: object
      required:
      - symbol
      title: CompanyCashflowStatementInput
      description: Input schema for company cashflow statement
    CompanyRevenueBreakdownInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'FY', 'Q2'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 6
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
      type: object
      required:
      - symbol
      title: CompanyRevenueBreakdownInput
      description: Input schema for company revenue breakdown
    IndexQuoteInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock index symbol (e.g., HSI, SPX, DJI)
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
      type: object
      required:
      - symbol
      title: IndexQuoteInput
      description: Input schema for index quote
    IndexFundsInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Index symbol
          example: '000300'
      type: object
      required:
      - symbol
      title: IndexFundsInput
      description: Input schema for index tracking funds query
    IndexConstituentsInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Index symbol
          example: '000300'
      type: object
      required:
      - symbol
      title: IndexConstituentsInput
      description: Input schema for index constituents query
    IndustryConstituentsInput:
      properties:
        market:
          type: string
          enum:
          - cn
          - hk
          - us
          title: Market
          description: 'Stock market: cn (China), hk (Hong Kong), or us (United States)'
          example: cn
        name:
          type: string
          title: Name
          description: Industry name
          example: 军工
        type:
          type: string
          title: Type
          description: 'Industry classification type: sw (申万), wind, hs (恒生), GICS. Default: sw for CN, hs for HK, GICS for US'
          example: sw
      type: object
      required:
      - market
      - name
      title: IndustryConstituentsInput
      description: Input schema for industry constituents query
    StockIPOCalendarHKInput:
      properties:
        status:
          type: string
          enum:
          - Priced
          - Hearing
          - Filing
          title: Status
          description: 'IPO status: Priced, Hearing, or Filing'
          example: Hearing
      type: object
      required:
      - status
      title: StockIPOCalendarHKInput
      description: Input schema for StockIPOCalendarHKTool
    StockEarningsCalendarInput:
      properties:
        market:
          type: string
          enum:
          - cn
          - hk
          - us
          title: Market
          description: 'Stock market: cn, hk, or us'
          example: cn
        symbol:
          type: string
          title: Symbol
          description: Stock symbol (optional)
          example: '000300'
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
          example: '2025-11-20'
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
          example: '2025-12-31'
      type: object
      required:
      - market
      - start_date
      - end_date
      title: StockEarningsCalendarInput
      description: Input schema for StockEarningsCalendarTool
    StockAPIResponse:
      properties:
        status:
          type: integer
          title: Status
          description: HTTP status code
        code:
          type: integer
          title: Code
          description: Response code (0 for success)
        message:
          type: string
          title: Message
          description: Response message
        data:
          type: object
          title: Data
          description: Response data (structure varies by endpoint)
      type: object
      title: StockAPIResponse
      description: Generic response wrapper from stock API
    OAIAgentConversationCreateRequest:
      properties:
        agent_id:
          type: integer
          title: Agent Id
          description: 智能体 ID
          example: 11887655289749510
        title:
          type: string
          title: Title
          description: 对话标题
          example: "nvidia 最新业绩分析"
      type: object
      required:
      - agent_id
      title: OAIAgentConversationCreateRequest
      description: 创建 agent 对话请求
      example:
        agent_id: 11887655289749510
        title: "nvidia 最新业绩分析"
    OAIAgentConversationCreateResponse:
      properties:
        id:
          type: integer
          title: Id
          description: 对话 ID
          example: 123456789
        user_id:
          type: integer
          title: User Id
          description: 用户 ID
          example: 987654321
        agent_id:
          type: integer
          title: Agent Id
          description: 智能体 ID
          example: 11887655289749510
        type:
          type: string
          title: Type
          description: 对话类型
          example: "agent_chat"
        title:
          type: string
          title: Title
          description: 对话标题
          example: "nvidia 最新业绩分析"
        status:
          type: string
          title: Status
          description: 对话状态
          example: "active"
        created_at:
          type: integer
          title: Created At
          description: 创建时间戳（毫秒）
          example: 1765851195760
        updated_at:
          type: integer
          title: Updated At
          description: 更新时间戳（毫秒）
          example: 1765851195768
      type: object
      required:
      - id
      - user_id
      - agent_id
      - type
      - status
      - created_at
      - updated_at
      title: OAIAgentConversationCreateResponse
      description: 创建 agent 对话响应
      example:
        id: 123456789
        user_id: 987654321
        agent_id: 11887655289749510
        type: "agent_chat"
        title: "nvidia 最新业绩分析"
        status: "active"
        created_at: 1765851195760
        updated_at: 1765851195768
    OAIAgentConversationMessageRead:
      properties:
        id:
          type: integer
          title: Id
          description: 消息 ID
          example: 12345
        user_id:
          type: integer
          title: User Id
          description: 用户 ID
          example: 987654321
        conversation_id:
          type: integer
          title: Conversation Id
          description: 对话 ID
          example: 683242877840089
        turn_id:
          type: integer
          title: Turn Id
          description: 对话轮次 ID
          example: 1
        role:
          type: string
          title: Role
          description: 消息角色（user 或 assistant）
          example: "user"
        reply_to_message_id:
          type: integer
          title: Reply To Message Id
          description: 回复的消息 ID
          nullable: true
          example: null
        content:
          type: object
          title: Content
          description: 消息内容
          nullable: true
          example:
            text: "nvidia 最新业绩分析"
        status:
          type: string
          title: Status
          description: 消息状态
          example: "completed"
        error_info:
          type: object
          title: Error Info
          description: 错误信息
          nullable: true
          example: null
        assistant_message_id:
          type: string
          title: Assistant Message Id
          description: 助手消息 ID
          nullable: true
          example: null
        created_at:
          type: integer
          title: Created At
          description: 创建时间戳（毫秒）
          example: 1765851195760
        updated_at:
          type: integer
          title: Updated At
          description: 更新时间戳（毫秒）
          example: 1765851195760
        assistant_events:
          type: array
          items:
            type: object
          title: Assistant Events
          description: 助手事件列表
          nullable: true
          example: null
      type: object
      required:
      - id
      - user_id
      - conversation_id
      - turn_id
      - role
      - status
      - created_at
      - updated_at
      title: OAIAgentConversationMessageRead
      description: Agent 对话消息
      example:
        id: 12345
        user_id: 987654321
        conversation_id: 683242877840089
        turn_id: 1
        role: "user"
        reply_to_message_id: null
        content:
          text: "nvidia 最新业绩分析"
        status: "completed"
        error_info: null
        assistant_message_id: null
        created_at: 1765851195760
        updated_at: 1765851195760
        assistant_events: null
    OAIAgentConversationExecutionCancelResponse:
      properties:
        response_id:
          type: string
          title: Response Id
          description: 响应 ID
          example: "019b24ef238cc97730971a9a0080c99c"
        status:
          type: string
          title: Status
          description: 取消状态
          example: "cancelled"
      type: object
      required:
      - response_id
      - status
      title: OAIAgentConversationExecutionCancelResponse
      description: 取消 agent 执行响应
      example:
        response_id: "019b24ef238cc97730971a9a0080c99c"
        status: "cancelled"
    OAIAgentConversationRead:
      properties:
        id:
          type: integer
          title: Id
          description: 对话 ID
          example: 123456789
        user_id:
          type: integer
          title: User Id
          description: 用户 ID
          example: 987654321
        agent_id:
          type: integer
          title: Agent Id
          description: 智能体 ID
          example: 11887655289749510
        type:
          type: string
          title: Type
          description: 对话类型
          example: "agent_chat"
        title:
          type: string
          title: Title
          description: 对话标题
          example: "nvidia 最新业绩分析"
        status:
          type: string
          title: Status
          description: 对话状态
          example: "active"
        meta:
          type: object
          title: Meta
          description: 元数据
        created_at:
          type: integer
          title: Created At
          description: 创建时间戳（毫秒）
          example: 1765851195760
        updated_at:
          type: integer
          title: Updated At
          description: 更新时间戳（毫秒）
          example: 1765851195768
        last_message:
          type: object
          title: Last Message
          description: 最后一条消息
      type: object
      required:
      - id
      - user_id
      - agent_id
      - type
      - status
      - created_at
      - updated_at
      title: OAIAgentConversationRead
      description: Agent 对话详情
      example:
        id: 123456789
        user_id: 987654321
        agent_id: 11887655289749510
        type: "agent_chat"
        title: "nvidia 最新业绩分析"
        status: "active"
        created_at: 1765851195760
        updated_at: 1765851195768
    OAIAgentConversationChatRequest:
      properties:
        message:
          type: string
          title: Message
          description: 用户消息内容
          example: "nvidia 最新业绩分析"
        documents:
          items:
            $ref: '#/components/schemas/DocumentInput'
          type: array
          title: Documents
          description: 关联的文档列表
          default: []
        stream:
          type: boolean
          title: Stream
          description: 是否使用流式响应
          default: true
          example: true
      type: object
      required:
      - message
      title: OAIAgentConversationChatRequest
      description: Agent 对话聊天请求（创建新消息）
      example:
        message: "nvidia 最新业绩分析"
        stream: true
    DocumentInput:
      properties:
        doc_id:
          type: string
          title: Doc Id
          description: 文档 ID
          example: "1046895208953942016"
        doc_title:
          type: string
          title: Doc Title
          description: 文档标题
          example: "NVIDIA Q4 2024 财报"
        file_type:
          type: string
          title: File Type
          description: 文档文件类型
          example: "pdf"
      type: object
      required:
      - doc_id
      - doc_title
      title: DocumentInput
      description: 文档输入对象
      example:
        doc_id: "1046895208953942016"
        doc_title: "NVIDIA Q4 2024 财报"
        file_type: "pdf"
    WorkflowStreamEvent:
      properties:
        event_id:
          type: string
          title: Event Id
          description: 唯一事件标识符
          example: "019b24ef23a1f4da18256b402868fae31764"
        event_type:
          type: string
          title: Event Type
          description: 事件类型
          enum:
          - init
          - workflow_start
          - workflow_end
          - node_start
          - node_end
          - agent_start
          - agent_end
          - tool_start
          - tool_end
          - stream_start
          - streaming
          - stream_end
          - usage
          - cancel
          - error
          example: "init"
        timestamp:
          type: integer
          title: Timestamp
          description: 事件时间戳（毫秒）
          example: 1765851210657
        response_id:
          type: string
          title: Response Id
          description: 响应标识符，用于分组事件
          example: "019b24ef238cc97730971a9a0080c99c"
        workflow_id:
          type: string
          title: Workflow Id
          description: 工作流标识符
          example: "11887655289749510"
        execution_id:
          type: string
          title: Execution Id
          description: 执行标识符
          example: "1dfccd9d-c365-4b7a-adae-aa9123684ec4"
        run_id:
          type: string
          title: Run Id
          description: 运行标识符，用于关联一组 start 和 end 事件（如 workflow_start 和 workflow_end、tool_start 和 tool_end），用于分组相关的开始/结束事件对
          example: ""
        node_id:
          type: string
          title: Node Id
          description: 节点标识符
        node_name:
          type: string
          title: Node Name
          description: 节点显示名称
        node_type:
          type: string
          title: Node Type
          description: 节点类型（start, tool, agent, end）
        agent_id:
          type: string
          title: Agent Id
          description: 智能体标识符
        agent_name:
          type: string
          title: Agent Name
          description: 智能体显示名称
        agent_type:
          type: string
          title: Agent Type
          description: 智能体类型（builtin_agent, react_agent 等）
        tool_id:
          type: string
          title: Tool Id
          description: 工具标识符
        tool_name:
          type: string
          title: Tool Name
          description: 工具显示名称
        input:
          type: object
          title: Input
          description: 组件的输入数据
          properties:
            query:
              type: string
              description: 搜索查询
            symbols:
              type: array
              items:
                type: string
              description: 股票代码列表
            start_datetime:
              type: string
              description: 开始时间
            end_datetime:
              type: string
              description: 结束时间
            num:
              type: integer
              description: 返回数量
            filetype:
              type: string
              description: 文件类型
            response_mode:
              type: string
              description: 响应模式
          example:
            query: "NVIDIA AMD Intel GPU 半导体 最新动态"
            symbols: ["US:NVDA", "US:AMD", "US:INTC"]
            start_datetime: "2025-12-15T00:00:00"
            end_datetime: "2025-12-16T02:14:15"
            num: 15
            filetype: "json"
        output:
          type: object
          title: Output
          description: |
            组件的输出数据。
            - 对于 tool_end 事件：包含 content 字段（JSON 字符串格式）
            - 对于 agent_end 事件：包含 content 字段（Markdown 格式）
            - 对于 node_end 事件：包含 content、filetype、filename、filepath 字段
            - 对于 workflow_end 事件：字典的 key 为最后一个 node 的 node_id，value 包含 title、filetype、content、filename、filepath 字段
          properties:
            content:
              type: string
              description: 输出内容（JSON 字符串格式或 Markdown 格式）
          example:
            content: "{\"docs\": [{\"doc_id\": \"1197862772277383168\", \"title\": \"示例文档\"}], \"total_count\": 10}"
        content:
          type: string
          title: Content
          description: 事件内容（用于思考/流式输出）
          example: ""
        error:
          type: object
          title: Error
          description: 错误信息（如果事件类型为 error）
        offset:
          type: integer
          title: Offset
          description: 事件偏移量
          example: 9195
      type: object
      required:
      - event_id
      - event_type
      - timestamp
      - response_id
      title: WorkflowStreamEvent
      description: 工作流流式事件对象
      examples:
        - event_id: "019b24ef23a1f4da18256b402868fae31764"
          event_type: "init"
          timestamp: 1765851210657
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: "1dfccd9d-c365-4b7a-adae-aa9123684ec4"
          run_id: ""
          content: ""
          offset: 9195
        - event_id: "019b24ef24707069ef923d72561a95812188"
          event_type: "workflow_start"
          timestamp: 1765851210864
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24ef246ef1f8e14609660d1d65be"
          offset: 9196
        - event_id: "019b24ef24a481260ead20b3ff894a845363"
          event_type: "node_start"
          timestamp: 1765851210916
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24ef24a4c38d39a09dee2eff830a"
          node_id: "start"
          node_name: "开始"
          node_type: "start"
          offset: 9197
        - event_id: "019b24ef4a297981a743b7f6dc55eb043579"
          event_type: "agent_start"
          timestamp: 1765851220521
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24ef4a292fe173c0c73e0e334ce4"
          node_id: "define_report_scope"
          node_name: "确定报告范围"
          node_type: "agent"
          agent_id: "agent_action"
          agent_name: "执行智能体"
          agent_type: "action_agent"
          offset: 9217
        - event_id: "019b24ef25014cbf7f25f0043effd82c6665"
          event_type: "stream_start"
          timestamp: 1765851211009
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24ef25015b3e6e9b3d2363cfb36c"
          node_id: "start"
          agent_id: "workflow_planner"
          offset: 9198
        - event_id: "019b24ef2e3b40bc070e30a4843987b35668"
          event_type: "streaming"
          timestamp: 1765851213371
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24ef25015b3e6e9b3d2363cfb36c"
          node_id: "start"
          agent_id: "workflow_planner"
          content: "你的任务是获取关于Google Gemini最新模型评分以及Google IDEA antigravity"
          offset: 9199
        - event_id: "019b24f3717634bdd262947130af73b52555"
          event_type: "stream_end"
          timestamp: 1765851492726
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24f348b67465f45353c50feb2367"
          node_id: "end"
          agent_id: "workflow_summarizer"
          content: "本次工作流执行成功完成了任务，生成了一份全面的《AI行业每日深度报告》。"
          offset: 9861
        - event_id: "019b24efea2a626e2cb6f9c22b2683bb9594"
          event_type: "tool_start"
          timestamp: 1765851261482
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24efea2a3e491e920de6003caf6c_5hyy41"
          node_id: "collect_upstream_news"
          agent_id: "agent_deep_search"
          tool_id: "tool_news_search"
          tool_name: "新闻搜索"
          input:
            query: "NVIDIA AMD Intel GPU 半导体 最新动态"
            symbols: ["US:NVDA", "US:AMD", "US:INTC"]
            start_datetime: "2025-12-15T00:00:00"
            end_datetime: "2025-12-16T02:14:15"
            num: 15
            filetype: "json"
          offset: 9323
        - event_id: "019b24efec9274b499f96da757fb03a66788"
          event_type: "tool_end"
          timestamp: 1765851262098
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24efdf9629d550ae7803264e3589_n1rz9t"
          node_id: "collect_model_layer_news"
          agent_id: "agent_deep_search"
          tool_id: "tool_news_search"
          tool_name: "新闻搜索"
          output:
            content: "{\"docs\": [{\"doc_id\": \"1197862772277383168\", \"title\": \"示例文档\"}], \"total_count\": 10}"
        - event_id: "019b24efc138c7b1e3adc456762dda377273"
          event_type: "agent_end"
          timestamp: 1765851251000
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24ef4a292fe173c0c73e0e334ce4"
          node_id: "define_report_scope"
          node_name: "确定报告范围"
          node_type: "agent"
          agent_id: "agent_action"
          agent_name: "执行智能体"
          agent_type: "action_agent"
          output:
            content: "# AI行业每日深度报告 - 覆盖范围与重点标的清单\n\n## 报告概述\n本报告将全面覆盖AI全产业链上下游..."
          offset: 9264
        - event_id: "019b24f3719913f41c7d391a00efe55a2581"
          event_type: "node_end"
          timestamp: 1765851492761
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24f3485b8f786c3da7168d826202"
          node_id: "end"
          node_name: "结束"
          node_type: "end"
          output:
            content: "本次工作流执行成功完成了任务，生成了一份全面的《AI行业每日深度报告》。"
          offset: 9863
        - event_id: "019b24f371b1d3759377966a35173d099385"
          event_type: "workflow_end"
          timestamp: 1765851492785
          response_id: "019b24ef238cc97730971a9a0080c99c"
          workflow_id: "11887655289749510"
          execution_id: ""
          run_id: "019b24ef246ef1f8e14609660d1d65be"
          output:
            generate_daily_report:
              title: "AI行业每日深度报告 - 2025年12月16日"
              filetype: "markdown"
              content: "# AI行业每日深度报告 - 2025年12月16日\n\n## 执行摘要\n..."
              filename: "AI行业每日深度报告 - 2025年12月16日.md"
              filepath: "/AI行业每日深度报告 - 2025年12月16日.md"
          offset: 9864
    # Common
    BaseResponse:
      type: object
      properties:
        status:
          type: integer
          description: HTTP 状态码
          example: 200
        code:
          type: integer
          description: 响应代码（0 表示成功）
          example: 0
        message:
          type: string
          description: 响应消息
          example: ""

    IndicatorMeta:
      type: object
      required:
      - name
      - description
      - fields
      properties:
        name:
          type: string
          title: Name
        description:
          type: string
          title: Description
        fields:
          type: array
          title: Fields
          items:
            type: string
      title: IndicatorMeta
      description: Metadata for a technical indicator.
    IndicatorComputeInput:
      type: object
      required:
      - symbols
      - formula
      properties:
        market:
          $ref: '#/components/schemas/StockMarket'
          description: Stock market
          default: cn
        symbols:
          type: array
          title: Symbols
          description: Stock code list, e.g., ["600519", "000001"] for CN market (required)
          items:
            type: string
        formula:
          type: string
          title: Formula
          description: Indicator formula (required)
        start_date:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: Start Date
          description: "Start date (optional, default: 3 months ago)"
        end_date:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: End Date
          description: "End date (optional, default: today)"
      title: IndicatorComputeInput
      description: Input for indicator computation.
    IndicatorComputeOutput:
      type: object
      required:
      - datas
      - metadata
      properties:
        datas:
          type: array
          title: Datas
          description: Indicator data list with symbol, date, and indicator fields
          items:
            type: object
            additionalProperties: true
        metadata:
          type: object
          title: Metadata
          description: Computation metadata
          additionalProperties: true
      title: IndicatorComputeOutput
      description: Output for indicator computation.
    FactorMeta:
      type: object
      required:
      - name
      - type
      - level
      - description
      properties:
        name:
          type: string
          title: Name
          description: Factor name for use in formulas
        type:
          type: string
          title: Type
          description: '"variable" or "function"'
        level:
          type: integer
          title: Level
          description: 'Level: 0 (variable/core), 1 (application functions), 2 (indicators)'
        description:
          type: string
          title: Description
          description: Brief description in Chinese
        description_en:
          anyOf:
          - type: string
          - type: 'null'
          title: Description En
          description: Brief description in English (optional)
      title: FactorMeta
      description: Metadata for a factor (variable or function).
    FactorComputeInput:
      type: object
      required:
      - symbols
      - formula
      properties:
        market:
          $ref: '#/components/schemas/StockMarket'
          description: Stock market
          default: cn
        symbols:
          type: array
          title: Symbols
          description: Stock code list, e.g., ["600519", "000001"] for CN market (required)
          items:
            type: string
        formula:
          type: string
          title: Formula
          description: Factor formula (required)
        start_date:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: Start Date
          description: "Start date (optional, default: 3 months ago)"
        end_date:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: End Date
          description: "End date (optional, default: today)"
      title: FactorComputeInput
      description: Input for factor computation.
    FactorComputeOutput:
      type: object
      required:
      - datas
      - metadata
      properties:
        datas:
          type: array
          title: Datas
          description: Factor data list with symbol, date, and factor value
          items:
            type: object
            additionalProperties: true
        metadata:
          type: object
          title: Metadata
          description: Computation metadata
          additionalProperties: true
      title: FactorComputeOutput
      description: Output for factor computation.
    FactorScreenInput:
      type: object
      required:
      - formula
      properties:
        market:
          $ref: '#/components/schemas/StockMarket'
          description: Stock market
          default: cn
        formula:
          type: string
          title: Formula
          description: Screening formula (required)
        check_date:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: Check Date
          description: "Check date (optional, default: latest trading day)"
        symbols:
          anyOf:
          - type: array
            items:
              type: string
          - type: 'null'
          title: Symbols
          description: Stock code list, e.g., ["600519", "000001"] (optional, None = full market)
      title: FactorScreenInput
      description: Input for factor-based stock screening.
    FactorScreenOutput:
      type: object
      required:
      - datas
      - metadata
      properties:
        datas:
          type: array
          title: Datas
          description: List of stocks that passed the filter
          items:
            $ref: '#/components/schemas/ScreenedStock'
        metadata:
          type: object
          title: Metadata
          description: Screening metadata
          additionalProperties: true
      title: FactorScreenOutput
      description: Output for factor-based stock screening.
    ScreenedStock:
      type: object
      required:
      - symbol
      - close
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock code
        close:
          type: number
          title: Close
          description: Close price on check date
        factor_value:
          anyOf:
          - type: number
          - type: boolean
          - type: 'null'
          title: Factor Value
          description: Factor value (if applicable)
        indicators:
          anyOf:
          - type: object
            additionalProperties: true
          - type: 'null'
          title: Indicators
          description: Intermediate indicator values from formula
      title: ScreenedStock
      description: A stock that passed the screening filter.
    OHLCVOutput:
      type: object
      required:
      - datas
      - metadata
      properties:
        datas:
          type: array
          title: Datas
          description: OHLCV data list sorted by date
          items:
            type: object
            additionalProperties: true
        metadata:
          type: object
          title: Metadata
          description: Query metadata
          additionalProperties: true
      title: OHLCVOutput
      description: OHLCV data response.
    BatchOHLCVInput:
      type: object
      required:
      - symbols
      properties:
        market:
          $ref: '#/components/schemas/StockMarket'
          description: Stock market
          default: cn
        symbols:
          type: array
          title: Symbols
          description: List of stock codes, e.g., ["600519", "000001"] for CN market (required)
          minItems: 1
          items:
            type: string
        start_date:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: Start Date
          description: "Start date (default: 1 month ago)"
        end_date:
          anyOf:
          - type: string
            format: date
          - type: 'null'
          title: End Date
          description: "End date (default: today)"
      title: BatchOHLCVInput
      description: Batch OHLCV request input.
    BatchOHLCVOutput:
      type: object
      required:
      - datas
      - metadata
      properties:
        datas:
          type: array
          title: Datas
          description: OHLCV data list sorted by date desc, then symbol
          items:
            type: object
            additionalProperties: true
        metadata:
          type: object
          title: Metadata
          description: Query metadata
          additionalProperties: true
      title: BatchOHLCVOutput
      description: Batch OHLCV data response.
    BacktestInput:
      properties:
        start_date:
          type: string
          format: date
          title: Start Date
          description: Backtest start date (required)
        end_date:
          type: string
          format: date
          title: End Date
          description: Backtest end date (required)
        market:
          $ref: '#/components/schemas/StockMarket'
          description: Stock market (cn, hk, us), default cn
          default: cn
        symbol:
          type: string
          title: Symbol
          description: Stock code (e.g., 600519, 00700, AAPL)
        entry_formula:
          type: string
          title: Entry Formula
          description: Buy/entry formula, triggers buy when result > 0 (required)
        exit_formula:
          anyOf:
          - type: string
          - type: 'null'
          title: Exit Formula
          description: Sell/exit formula, triggers sell when result > 0 (optional)
        initial_cash:
          type: number
          title: Initial Cash
          description: Initial capital, default 100000.0
          default: 100000.0
        commission:
          type: number
          title: Commission
          description: Commission rate, default 0.0
          default: 0.0
        stop_loss:
          type: number
          title: Stop Loss
          description: Stop loss percentage, default 0.0 (disabled)
          default: 0.0
        sizer_percent:
          type: integer
          title: Sizer Percent
          description: Position size percentage, default 99%
          default: 99
        auto_close:
          type: boolean
          title: Auto Close
          description: Auto close position at end, default true
          default: true
        labels:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Labels
          description: 'Label dictionary for additional indicators, e.g., {"up": "CROSS(MA(CLOSE, 20), MA(CLOSE, 60))"}'
      type: object
      required:
      - start_date
      - end_date
      - symbol
      - entry_formula
      title: BacktestInput
      description: Backtest input parameters for strategy execution.
    BacktestOutput:
      type: object
      properties:
        success:
          type: boolean
          title: Success
          description: Whether backtest completed successfully
          default: true
        initial_cash:
          type: number
          title: Initial Cash
          description: Initial capital
          default: 100000.0
        commission:
          type: number
          title: Commission
          description: Commission rate
          default: 0.0
        final_cash:
          type: number
          title: Final Cash
          description: Final capital after backtest
          default: 100000.0
        total_return:
          type: number
          title: Total Return
          description: Total profit/loss amount
          default: 0.0
        total_return_pct:
          type: number
          title: Total Return Pct
          description: Total return percentage
          default: 0.0
        max_drawdown:
          type: number
          title: Max Drawdown
          description: Maximum drawdown percentage
          default: 0.0
        profit_factor:
          type: number
          title: Profit Factor
          description: Gross profit / Gross loss ratio
          default: 0.0
        win_rate:
          type: number
          title: Win Rate
          description: Winning trades percentage
          default: 0.0
        total_trades:
          type: integer
          title: Total Trades
          description: Total number of completed trades
          default: 0
        winning_trades:
          type: integer
          title: Winning Trades
          description: Number of profitable trades
          default: 0
        losing_trades:
          type: integer
          title: Losing Trades
          description: Number of losing trades
          default: 0
        trades:
          type: array
          title: Trades
          description: List of trade details
          items:
            $ref: '#/components/schemas/TradeItem'
          default: []
        daily_data:
          type: array
          title: Daily Data
          description: Daily data list with OHLC and label values
          items:
            type: object
            additionalProperties: true
          default: []
        error_msg:
          anyOf:
          - type: string
          - type: 'null'
          title: Error Msg
          description: Error message when success is false
      title: BacktestOutput
      description: Backtest result containing performance metrics and trade details.
    TradeItem:
      type: object
      required:
      - id
      - type
      - entry_date
      - exit_date
      - entry_price
      - exit_price
      - size
      - net_pnl
      - return_pct
      - cumulative_pnl
      properties:
        id:
          type: integer
          title: Id
          description: Trade ID
        type:
          type: string
          title: Type
          description: Trade type, "Long" for long position, "Short" for short position
        entry_date:
          type: string
          title: Entry Date
          description: Entry date (YYYY-MM-DD)
        exit_date:
          type: string
          title: Exit Date
          description: Exit date (YYYY-MM-DD)
        entry_price:
          type: number
          title: Entry Price
          description: Entry price
        exit_price:
          type: number
          title: Exit Price
          description: Exit price
        size:
          type: integer
          title: Size
          description: Trade size (number of shares)
        net_pnl:
          type: number
          title: Net Pnl
          description: Net profit/loss after commission
        return_pct:
          type: number
          title: Return Pct
          description: Return percentage for this trade
        cumulative_pnl:
          type: number
          title: Cumulative Pnl
          description: Cumulative profit/loss after this trade
      title: TradeItem
      description: Single trade details from entry to exit.
    ConceptFeed:
      type: object
      properties:
        concept_id:
          type: string
          title: Concept Id
          description: 概念唯一标识
        concept_code:
          type: string
          title: Concept Code
          description: 概念代码
        concept_name:
          type: string
          title: Concept Name
          description: 概念名称
        gen_count:
          type: integer
          title: Gen Count
          description: 今日生成次数
        stocks:
          type: array
          title: Stocks
          description: 相关股票列表
          items:
            type: object
            properties:
              market:
                type: string
                description: 股票市场
              code:
                type: string
                description: 股票代码
              name:
                type: string
                description: 股票名称
      required:
      - concept_id
      - concept_name
      - gen_count
      title: ConceptFeed
      description: 今日概念动态
    StockMarket:
      type: string
      enum:
      - cn
      - hk
      - us
      title: StockMarket
      description: Stock market identifier
    FollowedCompanyItem:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Company symbol (e.g., US:AAPL)
        ticker:
          type: string
          title: Ticker
          description: Company ticker (e.g., AAPL)
        market:
          type: string
          title: Market
          description: Market (e.g., US, HK, CN)
        name:
          type: string
          title: Name
          description: Company name
        chinese_name:
          type: string
          title: Chinese Name
          description: Chinese name
        english_name:
          type: string
          title: English Name
          description: English name
        logo:
          type: string
          title: Logo
          description: Company logo URL
        followed_at:
          type: integer
          title: Followed At
          description: Follow timestamp in milliseconds
      type: object
      required:
      - symbol
      title: FollowedCompanyItem
      description: Followed company information
    FollowedCompaniesResponse:
      properties:
        companies:
          type: array
          items:
            $ref: '#/components/schemas/FollowedCompanyItem'
          title: Companies
          description: List of followed companies
          default: []
        total:
          type: integer
          title: Total
          description: Total number of followed companies
          default: 0
      type: object
      title: FollowedCompaniesResponse
      description: Response containing followed companies
    OAIKBSearchRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        folder_ids:
          type: array
          items:
            type: string
          title: Folder Ids
          description: Folder IDs to filter by
        doc_ids:
          type: array
          items:
            type: string
          title: Doc Ids
          description: Document IDs to filter by
        start_date:
          type: string
          title: Start Date
          description: Start date filter (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date filter (YYYY-MM-DD)
        num:
          type: integer
          title: Num
          description: Number of results to return
          default: 10
      type: object
      required:
      - query
      title: OAIKBSearchRequest
      description: Request model for knowledge base search
    KBSearchOutput:
      properties:
        chunks:
          type: array
          items:
            $ref: '#/components/schemas/OAIChunkWithDoc'
          title: Chunks
          description: Search result chunks with document information
          default: []
      type: object
      title: KBSearchOutput
      description: Output model for knowledge base search
    OAITimelineToolsRequest:
      properties:
        num:
          type: integer
          title: Num
          description: Number of results to return
          default: 10
          minimum: 1
          maximum: 100
      type: object
      title: OAITimelineToolsRequest
      description: Request model for timeline tools
    ToolAPIDocument:
      properties:
        doc_id:
          type: string
          title: Doc Id
          description: Document ID
        title:
          type: string
          title: Title
          description: Document title
        summary:
          type: string
          title: Summary
          description: Document summary
        category:
          type: string
          title: Category
          description: Document category
        published_at:
          type: string
          title: Published At
          description: Publication timestamp
        source:
          type: string
          title: Source
          description: Document source
        channel_name:
          type: string
          title: Channel Name
          description: Channel name
        symbols:
          type: array
          items:
            type: string
          title: Symbols
          description: Related stock symbols
      type: object
      title: ToolAPIDocument
      description: Document in tool API response
    TimelineToolsResponse:
      properties:
        docs:
          type: array
          items:
            $ref: '#/components/schemas/ToolAPIDocument'
          title: Docs
          description: Timeline result documents
          default: []
        total_count:
          type: integer
          title: Total Count
          description: Total number of matching documents
          default: 0
        took_ms:
          type: integer
          title: Took Ms
          description: Timeline execution time in milliseconds
          default: 0
      type: object
      title: TimelineToolsResponse
      description: Response model for timeline tools

  responses:
    BadRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    NotFound:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    ValidationError:
      description: Validation Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/HTTPValidationError'

  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Enter your Bearer token