openapi: 3.1.0
info:
  title: Reportify API
  version: 1.0.0
  description: API documentation for Reportify's document management and search services.
paths:
  /v1/oauth/token:
    post:
      tags:
      - openapi-oauth
      summary: Create Token
      operationId: create_token_reportify_api_v1_oauth_token_post
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Body_create_token_reportify_api_v1_oauth_token_post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuthTokenResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs:
    post:
      tags:
      - openapi-docs
      summary: Doc List
      description: Doc list
      operationId: doc_list_reportify_api_v1_docs_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsListRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/symbols:
    post:
      tags:
      - openapi-docs
      summary: Query Docs By Symbols
      description: Retrieve docs for the specified symbols
      operationId: query_docs_by_symbols_reportify_api_v1_docs_symbols_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsSymbolsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/tags:
    post:
      tags:
      - openapi-docs
      summary: Query Docs By Tags
      description: Retrieve docs for the specified tags
      operationId: query_docs_by_tags_reportify_api_v1_docs_tags_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsTagsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/{doc_id}:
    get:
      tags:
      - openapi-docs
      summary: Get Doc Contents
      description: Retrieve detailed content of the specified document, including
        chunks.
      operationId: get_doc_contents_reportify_api_v1_docs__doc_id__get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocContentsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/{doc_id}/raw-content:
    get:
      tags:
      - openapi-docs
      summary: Get Doc Raw Content
      description: Retrieve raw content of the specified document.
      operationId: get_doc_raw_content_reportify_api_v1_docs__doc_id__raw_content_get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocContentsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []      
  /v1/docs/{doc_id}/summary:
    get:
      tags:
      - openapi-docs
      summary: Get Doc Summary
      description: Retrieve the summary of the specified document.
      operationId: get_doc_summary_reportify_api_v1_docs__doc_id__summary_get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocSummaryResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/folder/create:
    post:
      tags:
      - openapi-files
      summary: Create Folder
      description: OAI docs folder create
      operationId: create_folder_reportify_api_v1_docs_folder_create_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIFolderCreateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIFolderResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/upload:
    post:
      tags:
      - openapi-files
      summary: Upload Docs
      description: OAI docs upload
      operationId: upload_docs_reportify_api_v1_docs_upload_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsUploadRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsUploadResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/upload/form:
    post:
      tags:
      - openapi-files
      summary: Upload Doc By Form
      description: Upload files via form
      operationId: upload_doc_by_form_reportify_api_v1_docs_upload_form_post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_upload_doc_by_form_reportify_api_v1_docs_upload_form_post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsIdResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/upload/async:
    post:
      tags:
      - openapi-files
      summary: Upload Docs Async
      description: OAI docs upload async
      operationId: upload_docs_async_reportify_api_v1_docs_upload_async_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsUploadRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsUploadResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/{doc_id}/upload/status:
    get:
      tags:
      - openapi-files
      summary: Get Upload Docs Status
      description: OAI docs upload status
      operationId: get_upload_docs_status_reportify_api_v1_docs__doc_id__upload_status_get
      parameters:
      - required: true
        schema:
          type: string
          title: Doc Id
        name: doc_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsUploadStatusResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/folder/delete:
    delete:
      tags:
      - openapi-files
      summary: Delete Folder
      description: OAI docs folder delete, include files in folder
      operationId: delete_folder_reportify_api_v1_docs_folder_delete_delete
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIFolderDeleteRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIFolderDeleteResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/docs/delete:
    delete:
      tags:
      - openapi-files
      summary: Delete Docs
      description: OAI docs delete
      operationId: delete_docs_reportify_api_v1_docs_delete_delete
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIDocsDeleteRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIDocsDeleteResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/search:
    post:
      tags:
      - openapi-search
      summary: Search Docs
      description: Search for documents based on specified criteria.
      operationId: search_docs_reportify_api_v1_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAISearchDocsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchDocsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/search/chunks:
    post:
      tags:
      - openapi-search
      summary: Search Chunks
      description: Perform semantic search on document chunks based on specified criteria.
      operationId: search_chunks_reportify_api_v1_search_chunks_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAISearchChunksRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchChunksResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search:
    post:
      tags:
      - openapi-v2-search
      summary: Search
      description: General document search across all categories
      operationId: search_reportify_api_v2_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsSearchRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/earnings-pack:
    post:
      tags:
      - openapi-v2-search
      summary: Earnings Pack Search
      description: Search earnings pack documents include Financial reports, Earnings call transcripts, Presentation materials, Press releases
      operationId: earnings_pack_search_reportify_api_v2_search_earnings_pack_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsEarningsPackRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/conference-calls:
    post:
      tags:
      - openapi-v2-search
      summary: Conference Calls Search
      description: Search conference call transcripts including Earnings calls, Research calls, Industry calls
      operationId: conference_calls_search_reportify_api_v2_search_conference_calls_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsConferenceCallsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/minutes:
    post:
      tags:
      - openapi-v2-search
      summary: Minutes Search
      description: Search minutes transcripts including Conference calls, IR (Investor Relations) meetings
      operationId: minutes_search_reportify_api_v2_search_minutes_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsMinutesRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/reports:
    post:
      tags:
      - openapi-v2-search
      summary: Reports Search
      description: Search research reports from various institutions
      operationId: reports_search_reportify_api_v2_search_reports_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsReportsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/filings:
    post:
      tags:
      - openapi-v2-search
      summary: Filings Search
      description: Search company filings and official announcements
      operationId: filings_search_reportify_api_v2_search_filings_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsFilingsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/news:
    post:
      tags:
      - openapi-v2-search
      summary: News Search
      description: Search news articles and market updates
      operationId: news_search_reportify_api_v2_search_news_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsNewsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/socials:
    post:
      tags:
      - openapi-v2-search
      summary: Socials Search
      description: Search social media content and market sentiment
      operationId: socials_search_reportify_api_v2_search_socials_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsSocialsRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v2/search/webpages:
    post:
      tags:
      - openapi-v2-search
      summary: Webpages Search
      description: Search webpage content
      operationId: webpages_search_reportify_api_v2_search_webpages_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchToolsWebpagesRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchToolsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-overview:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Overview
      description: Get comprehensive company information including fundamentals and business overview
      operationId: company_overview_reportify_api_v2_stock_company_overview_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyOverviewInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-shareholders:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Shareholders
      description: Get list of company shareholders
      operationId: company_shareholders_reportify_api_v2_stock_company_shareholders_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyShareholdersInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-prices:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Stock Prices
      description: Get current and historical stock prices
      operationId: company_stock_prices_reportify_api_v2_stock_company_prices_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyStockPricesInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-income-statement:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Income Statement
      description: Get company income statement
      operationId: company_income_statement_reportify_api_v2_stock_company_income_statement_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyIncomeStatementInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-balance-sheet:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Balance Sheet
      description: Get company balance sheet
      operationId: company_balance_sheet_reportify_api_v2_stock_company_balance_sheet_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyBalanceSheetInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-cashflow-statement:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Cashflow Statement
      description: Get company cash flow statement
      operationId: company_cashflow_statement_reportify_api_v2_stock_company_cashflow_statement_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyCashflowStatementInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/company-revenue-breakdown:
    post:
      tags:
      - openapi-v2-stock
      summary: Company Revenue Breakdown
      description: Get company revenue breakdown
      operationId: company_revenue_breakdown_reportify_api_v2_stock_company_revenue_breakdown_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyRevenueBreakdownInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/index-prices:
    post:
      tags:
      - openapi-v2-stock
      summary: Stock Index Prices
      description: Get stock index prices
      operationId: index_prices_reportify_api_v2_stock_index_prices_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockIndexPricesInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/quote-realtime:
    post:
      tags:
      - openapi-v2-stock
      summary: Stock Realtime Quote
      description: Get real-time stock quote
      operationId: stock_realtime_quote_reportify_api_v2_stock_quote_realtime_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockRealtimeQuoteInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/screener:
    post:
      tags:
      - openapi-v2-stock
      summary: Stock Screener
      description: Screen stocks based on various criteria
      operationId: stock_screener_reportify_api_v2_stock_screener_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockScreenerInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/stock/ipo-calendar-hk:
    post:
      tags:
      - openapi-stock-tools
      summary: Stock IPO Calendar HK
      description: Query Hong Kong stock IPO calendar by status
      operationId: stock_ipo_calendar_hk_reportify_api_v1_stock_ipo_calendar_hk_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockIPOCalendarHKInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
      - BearerAuth: []
  /v1/stock/earnings-calendar:
    post:
      tags:
      - openapi-stock-tools
      summary: Stock Earnings Calendar
      description: Query stock earnings calendar by area and date range
      operationId: stock_earnings_calendar_reportify_api_v1_stock_earnings_calendar_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockEarningsCalendarInput'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
      - BearerAuth: []
  /v1/chat/completion:
    post:
      tags:
      - openapi-chat
      summary: Chat Completion
      description: Provides answering based on document content.
      operationId: chat_completion_reportify_api_v1_chat_completion_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIChatCompletionRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIChatCompletionResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/concepts/latest:
    get:
      tags:
      - openapi-concepts
      summary: Get Latest Concepts
      description: get latest concepts
      operationId: get_latest_concepts_reportify_api_v1_concepts_latest_get
      parameters:
      - description: include docs
        required: false
        schema:
          type: boolean
          title: Include Docs
          description: include docs
          default: true
        name: include_docs
        in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/search:
    post:
      tags:
      - openapi-channels
      summary: Search Channels
      description: Search for channels by query string
      operationId: search_channels_reportify_api_v1_channels_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAISearchChannelRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchChannelPagination'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/followings:
    get:
      tags:
      - openapi-channels
      summary: Get Following Channels
      description: Get list of channels user is following
      operationId: get_following_channels_reportify_api_v1_channels_followings_get
      parameters:
      - required: false
        schema:
          type: integer
          title: Page Num
          default: 1
        name: page_num
        in: query
      - required: false
        schema:
          type: integer
          title: Page Size
          default: 10
        name: page_size
        in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAISearchChannelPagination'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/{channel_id}/follow:
    post:
      tags:
      - openapi-channels
      summary: Follow Channel
      description: Follow a specific channel by ID
      operationId: follow_channel_reportify_api_v1_channels__channel_id__follow_post
      parameters:
      - description: Channel ID
        required: true
        schema:
          type: string
          title: Channel Id
          description: Channel ID
        name: channel_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIChannelResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/{channel_id}/unfollow:
    delete:
      tags:
      - openapi-channels
      summary: Unfollow Channel
      description: Unfollow a specific channel by ID
      operationId: unfollow_channel_reportify_api_v1_channels__channel_id__unfollow_delete
      parameters:
      - description: Channel ID
        required: true
        schema:
          type: string
          title: Channel Id
          description: Channel ID
        name: channel_id
        in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatusMessage'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/channels/followings/docs:
    get:
      tags:
      - openapi-channels
      summary: Get Channel Docs
      description: Get documents from followed channels
      operationId: get_channel_docs_reportify_api_v1_channels_followings_docs_get
      parameters:
      - description: Channel IDs
        required: false
        schema:
          type: string
          title: Channel Ids
          description: Channel IDs
        name: channel_ids
        in: query
      - required: false
        schema:
          type: integer
          title: Page Num
          default: 1
        name: page_num
        in: query
      - required: false
        schema:
          type: integer
          title: Page Size
          default: 10
        name: page_size
        in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIChannelDocPagination'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations:
    post:
      tags:
      - openapi-agent
      summary: Create Conversation
      description: Create a new agent conversation
      operationId: create_conversation_reportify_api_v1_agent_conversations_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIAgentConversationCreateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIAgentConversationCreateResponse'
              example:
                id: 123456789
                user_id: 987654321
                agent_id: 11887655289749510
                type: "agent_chat"
                title: "nvidia 最新业绩分析"
                status: "active"
                created_at: 1765851195760
                updated_at: 1765851195768
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/chat:
    post:
      tags:
      - openapi-agent
      summary: Chat
      description: Chat with agent (streaming or non-streaming)
      operationId: chat_reportify_api_v1_agent_conversations__conversation_id__chat_post
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAIAgentConversationChatRequest'
        required: true
      responses:
        '200':
          description: Successful Response (Server-Sent Events stream)
          headers:
            X-REPORTIFY-ASSISTANT-MESSAGE-ID:
              description: 助手消息 ID，可用于后续调用获取消息事件接口
              schema:
                type: string
                example: "019b24ef238cc97730971a9a0080c99c"
          content:
            text/event-stream:
              schema:
                $ref: '#/components/schemas/WorkflowStreamEvent'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}:
    get:
      tags:
      - openapi-agent
      summary: Get Conversation
      description: Get agent conversation details
      operationId: get_conversation_reportify_api_v1_agent_conversations__conversation_id__get
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIAgentConversationRead'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/messages:
    get:
      tags:
      - openapi-agent
      summary: List Conversation Messages
      description: List agent conversation messages
      operationId: list_conversation_messages_reportify_api_v1_agent_conversations__conversation_id__messages_get
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      - required: false
        schema:
          type: integer
          maximum: 100
          minimum: 1
          title: Limit
          description: Number of messages to return
          default: 10
        name: limit
        in: query
        description: 返回的消息数量
        example: 10
      - required: false
        schema:
          type: integer
          title: Before Message Id
          description: Fetch messages created before this message id
        name: before_message_id
        in: query
        description: 获取此消息 ID 之前创建的消息
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  messages:
                    type: array
                    items:
                      $ref: '#/components/schemas/OAIAgentConversationMessageRead'
                    description: 消息列表
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/messages/{assistant_message_id}:
    get:
      tags:
      - openapi-agent
      summary: Get Assistant Message Events
      description: Get assistant message events (streaming or non-streaming) from a specific offset
      operationId: get_assistant_message_events_reportify_api_v1_agent_conversations__conversation_id__messages__assistant_message_id__get
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      - required: true
        schema:
          type: string
          title: Assistant Message Id
          description: 助手消息 ID（从 chat 接口响应头 X-REPORTIFY-ASSISTANT-MESSAGE-ID 获取）
        name: assistant_message_id
        in: path
        example: "019b24ef238cc97730971a9a0080c99c"
      - required: false
        schema:
          type: boolean
          title: Stream
          description: Stream events via SSE when true
          default: true
        name: stream
        in: query
        description: 是否使用流式响应（SSE）
      - required: false
        schema:
          type: integer
          title: Timeout
          description: Timeout in seconds for streaming mode
          default: 1800
        name: timeout
        in: query
        description: 流式模式的超时时间（秒）
      - required: false
        schema:
          type: integer
          minimum: 0
          title: From Offset
          description: Start streaming from specific offset
          default: 0
        name: from_offset
        in: query
        description: 从指定偏移量开始获取事件
        example: 9200
      responses:
        '200':
          description: Successful Response (Server-Sent Events stream or JSON array)
          content:
            text/event-stream:
              schema:
                $ref: '#/components/schemas/WorkflowStreamEvent'
            application/json:
              schema:
                type: object
                properties:
                  assistant_events:
                    type: array
                    items:
                      $ref: '#/components/schemas/WorkflowStreamEvent'
                    description: 事件列表
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /v1/agent/conversations/{conversation_id}/messages/{assistant_message_id}/cancel:
    post:
      tags:
      - openapi-agent
      summary: Cancel Agent Execution
      description: Cancel agent execution
      operationId: cancel_agent_execution_reportify_api_v1_agent_conversations__conversation_id__messages__assistant_message_id__cancel_post
      parameters:
      - required: true
        schema:
          type: integer
          title: Conversation Id
          description: 对话 ID
        name: conversation_id
        in: path
        example: 683242877840089
      - required: true
        schema:
          type: string
          title: Assistant Message Id
          description: 助手消息 ID（从 chat 接口响应头 X-REPORTIFY-ASSISTANT-MESSAGE-ID 获取）
        name: assistant_message_id
        in: path
        example: "019b24ef238cc97730971a9a0080c99c"
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAIAgentConversationExecutionCancelResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - BearerAuth: []
  /quant/indicators:
    get:
      tags:
        - Indicators
      summary: 获取指标列表
      description: 获取所有可用的技术指标定义
      operationId: getIndicatorList
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IndicatorListResponse'
    post:
      tags:
        - Indicators
      summary: 获取技术指标数据
      description: 获取指定股票的技术指标数据
      operationId: getIndicators
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndicatorRequest'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IndicatorResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/ValidationError'

  /quant/factors:
    get:
      tags:
        - Factors
      summary: 获取因子列表
      description: 获取所有可用因子的定义
      operationId: getFactorList
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactorListResponse'
    post:
      tags:
        - Factors
      summary: 获取因子数据
      description: 获取指定股票的因子数据
      operationId: getFactors
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FactorRequest'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactorResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /quant/factors/exposure:
    post:
      tags:
        - Factors
      summary: 获取因子暴露
      description: 获取股票组合的因子暴露度
      operationId: getFactorExposure
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FactorExposureRequest'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactorExposureResponse'

  /quant/quotes:
    post:
      tags:
        - Quotes
      summary: 获取实时行情
      description: 获取股票的实时行情数据
      operationId: getQuotes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuoteRequest'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuoteResponse'

  /quant/quotes/history:
    post:
      tags:
        - Quotes
      summary: 获取历史行情
      description: 获取股票的历史 OHLCV 数据
      operationId: getQuotesHistory
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuoteHistoryRequest'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuoteHistoryResponse'

  /quant/backtest:
    post:
      tags:
        - Backtest
      summary: 运行策略回测
      description: 提交策略进行回测，返回绩效指标
      operationId: runBacktest
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BacktestRequest'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BacktestResponse'

  /quant/backtest/{backtest_id}:
    get:
      tags:
        - Backtest
      summary: 获取回测结果
      description: 根据回测 ID 获取详细结果
      operationId: getBacktestResult
      parameters:
        - name: backtest_id
          in: path
          required: true
          schema:
            type: string
          description: 回测任务 ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BacktestResponse'
        '404':
          $ref: '#/components/responses/NotFound'

  /quant/backtest/{backtest_id}/returns:
    get:
      tags:
        - Backtest
      summary: 获取收益序列
      description: 获取回测的每日收益数据
      operationId: getBacktestReturns
      parameters:
        - name: backtest_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BacktestReturnsResponse'

  /quant/backtest/{backtest_id}/trades:
    get:
      tags:
        - Backtest
      summary: 获取交易记录
      description: 获取回测的所有交易记录
      operationId: getBacktestTrades
      parameters:
        - name: backtest_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BacktestTradesResponse'

components:
  schemas:
    Body_create_token_reportify_api_v1_oauth_token_post:
      properties:
        grant_type:
          type: string
          title: Grant Type
        client_assertion_type:
          type: string
          title: Client Assertion Type
        client_assertion:
          type: string
          title: Client Assertion
      type: object
      required:
      - grant_type
      - client_assertion_type
      - client_assertion
      title: Body_create_token_reportify_api_v1_oauth_token_post
    Body_upload_doc_by_form_reportify_api_v1_docs_upload_form_post:
      properties:
        file:
          type: string
          format: binary
          title: File
        folder_id:
          type: string
          title: Folder Id
          description: Folder ID, if you do not pass it, use the default folder
        name:
          type: string
          title: Name
          description: File name, if you do not pass it, use the file name in the
            URL
        metadatas:
          type: string
          title: Metadatas
          description: 'metadatas json string, example: {"period": "2023Q4", "entities":
            ["companyA", "companyB"]}'
        published_at:
          type: integer
          title: Published At
          description: Document release time, millisecond time stamp
        tags:
          type: string
          title: Tags
          description: 'Document tag list, json string, example: {"key": ["value1",
            "value2"]}'
      type: object
      required:
      - file
      title: Body_upload_doc_by_form_reportify_api_v1_docs_upload_form_post
    CompanyLabel:
      properties:
        name:
          type: string
          title: Name
        logo:
          type: string
          title: Logo
        stocks:
          items:
            $ref: '#/components/schemas/CompanyStock'
          type: array
          title: Stocks
      type: object
      required:
      - name
      title: CompanyLabel
    CompanyStock:
      properties:
        symbol:
          type: string
          title: Symbol
        market:
          type: string
          title: Market
        code:
          type: string
          title: Code
      type: object
      required:
      - symbol
      - market
      - code
      title: CompanyStock
    DateRangeEnum:
      type: string
      enum:
      - h
      - d
      - w
      - m
      - y
      title: DateRangeEnum
      description: An enumeration.
    DocsUploadStatusEnum:
      type: string
      enum:
      - pending
      - processing
      - completed
      title: DocsUploadStatusEnum
      description: An enumeration.
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    ErrorResponse:
      properties:
        status:
          type: integer
          title: Status
          description: HTTP status code
        code:
          type: integer
          title: Code
          description: Error code
        message:
          type: string
          title: Message
          description: Error message
      type: object
      title: ErrorResponse
      description: Standard error response
    OAIChannelDocPagination:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        docs:
          items:
            $ref: '#/components/schemas/OAIDoc'
          type: array
          title: Docs
          description: List of doc responses.
      type: object
      title: OAIChannelDocPagination
    OAIChannelResponse:
      properties:
        id:
          type: string
          title: Id
          description: channel ID
        name:
          type: string
          title: Name
          description: channel name
        description:
          type: string
          title: Description
          description: channel description
          nullable: true
        avatar_url:
          type: string
          title: Avatar Url
          description: channel avatar
          nullable: true
        following:
          type: boolean
          title: Following
          description: follow flag
          default: false
          nullable: true
      type: object
      required:
      - id
      - name
      title: OAIChannelResponse
    OAIChatCompletionRequest:
      properties:
        query:
          type: string
          title: Query
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default: []
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        mode:
          allOf:
          - $ref: '#/components/schemas/OAIChatMode'
          default: concise
        session_id:
          type: string
          title: Session Id
          default: ''
        stream:
          type: boolean
          title: Stream
          default: true
      type: object
      required:
      - query
      title: OAIChatCompletionRequest
    OAIChatCompletionResponse:
      properties:
        type:
          type: string
          title: Type
        message_id:
          type: string
          title: Message Id
        message:
          type: string
          title: Message
        extra:
          type: object
          title: Extra
          default: {}
      type: object
      required:
      - type
      - message_id
      - message
      title: OAIChatCompletionResponse
    OAIChatMode:
      type: string
      enum:
      - concise
      - comprehensive
      - deepresearch
      title: OAIChatMode
      description: An enumeration.
    OAIChunk:
      properties:
        id:
          type: string
          title: Id
        type:
          $ref: '#/components/schemas/OAIChunkType'
        media_url:
          type: string
          title: Media Url
        content:
          type: string
          title: Content
        summary:
          type: string
          title: Summary
        metadata:
          type: object
          title: Metadata
      type: object
      title: OAIChunk
    OAIChunkType:
      type: string
      enum:
      - text
      - table
      - image
      - formula
      title: OAIChunkType
      description: An enumeration.
    OAIChunkWithDoc:
      properties:
        id:
          type: string
          title: Id
        type:
          $ref: '#/components/schemas/OAIChunkType'
        media_url:
          type: string
          title: Media Url
        content:
          type: string
          title: Content
        summary:
          type: string
          title: Summary
        metadata:
          type: object
          title: Metadata
        doc:
          anyOf:
          - $ref: '#/components/schemas/OAIDoc'
          - $ref: '#/components/schemas/OAIDocBase'
          title: Doc
      type: object
      title: OAIChunkWithDoc
    OAIDoc:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
        institution:
          type: string
          title: Institution
        author:
          type: string
          title: Author
        published_at:
          type: integer
          title: Published At
        category:
          $ref: '#/components/schemas/OAIDocCategory'
        market:
          $ref: '#/components/schemas/OAIMarket'
        ticker:
          type: string
          title: Ticker
        symbol:
          type: string
          title: Symbol
        company_name:
          type: string
          title: Company Name
        logo:
          type: string
          title: Logo
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        metadatas:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Metadatas
        report_type:
          type: integer
          title: Report Type
        channel_id:
          type: string
          title: Channel Id
        channel_name:
          type: string
          title: Channel Name
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDoc
    OAIDocBase:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDocBase
    OAIDocCategory:
      type: string
      enum:
      - financials
      - transcripts
      - reports
      - news
      - files
      - filings
      - socials
      title: OAIDocCategory
      description: An enumeration.
    OAIDocContentsResponse:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
        institution:
          type: string
          title: Institution
        author:
          type: string
          title: Author
        published_at:
          type: integer
          title: Published At
        category:
          $ref: '#/components/schemas/OAIDocCategory'
        market:
          $ref: '#/components/schemas/OAIMarket'
        ticker:
          type: string
          title: Ticker
        symbol:
          type: string
          title: Symbol
        company_name:
          type: string
          title: Company Name
        logo:
          type: string
          title: Logo
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        metadatas:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Metadatas
        report_type:
          type: integer
          title: Report Type
        channel_id:
          type: string
          title: Channel Id
        channel_name:
          type: string
          title: Channel Name
        file_url:
          type: string
          title: File Url
        media_url:
          type: string
          title: Media Url
        chunks:
          items:
            $ref: '#/components/schemas/OAIChunk'
          type: array
          title: Chunks
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDocContentsResponse
    OAIDocDetail:
      properties:
        doc_id:
          type: string
          title: Doc Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
        institution:
          type: string
          title: Institution
        author:
          type: string
          title: Author
        published_at:
          type: integer
          title: Published At
        category:
          $ref: '#/components/schemas/OAIDocCategory'
        market:
          $ref: '#/components/schemas/OAIMarket'
        ticker:
          type: string
          title: Ticker
        symbol:
          type: string
          title: Symbol
        company_name:
          type: string
          title: Company Name
        logo:
          type: string
          title: Logo
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        metadatas:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Metadatas
        report_type:
          type: integer
          title: Report Type
        channel_id:
          type: string
          title: Channel Id
        channel_name:
          type: string
          title: Channel Name
        file_url:
          type: string
          title: File Url
        media_url:
          type: string
          title: Media Url
      type: object
      required:
      - doc_id
      - title
      - url
      title: OAIDocDetail
    OAIDocSummaryResponse:
      properties:
        doc_id:
          type: string
          title: Doc Id
        summary:
          type: string
          title: Summary
      type: object
      required:
      - doc_id
      - summary
      title: OAIDocSummaryResponse
    OAIDocsDeleteRequest:
      properties:
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
      type: object
      required:
      - doc_ids
      title: OAIDocsDeleteRequest
    OAIDocsDeleteResponse:
      properties:
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
      type: object
      required:
      - doc_ids
      title: OAIDocsDeleteResponse
    OAIDocsIdResponse:
      properties:
        id:
          type: string
          title: Id
        title:
          type: string
          title: Title
        original_url:
          type: string
          title: Original Url
      type: object
      required:
      - id
      - title
      - original_url
      title: OAIDocsIdResponse
    OAIDocsListRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
      type: object
      title: OAIDocsListRequest
    OAIDocsResponse:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        docs:
          items:
            $ref: '#/components/schemas/OAIDoc'
          type: array
          title: Docs
          default: []
      type: object
      title: OAIDocsResponse
    OAIDocsSymbolsRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        symbols:
          items:
            type: string
          type: array
          title: Symbols
      type: object
      required:
      - symbols
      title: OAIDocsSymbolsRequest
    OAIDocsTagsRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
      type: object
      required:
      - tags
      title: OAIDocsTagsRequest
    OAIDocsUploadRequest:
      properties:
        docs:
          items:
            $ref: '#/components/schemas/OAIDocsUrlRequest'
          type: array
          title: Docs
        folder_id:
          type: string
          title: Folder Id
          description: 文件夹ID，不传则使用默认文件夹
        pdf_parsing_mode:
          type: integer
          title: Pdf Parsing Mode
          description: 'pdf解析模式: 1-按页,3-按逻辑 @see PDFParsingModeEnum'
          default: 1
      type: object
      required:
      - docs
      title: OAIDocsUploadRequest
    OAIDocsUploadResponse:
      properties:
        docs:
          items:
            $ref: '#/components/schemas/OAIDocsIdResponse'
          type: array
          title: Docs
      type: object
      required:
      - docs
      title: OAIDocsUploadResponse
    OAIDocsUploadStatusResponse:
      properties:
        id:
          type: string
          title: Id
        status:
          $ref: '#/components/schemas/DocsUploadStatusEnum'
      type: object
      required:
      - id
      - status
      title: OAIDocsUploadStatusResponse
    OAIDocsUrlRequest:
      properties:
        url:
          type: string
          title: Url
        name:
          type: string
          title: Name
          description: 文件名称，不传则使用URL中的文件名
        metadatas:
          type: object
          title: Metadatas
          description: 文档元数据，包含 period 和 entities
          example:
            period: 2023Q4
            entities:
            - 公司A
            - 公司B
        published_at:
          type: integer
          title: Published At
          description: 文档发布时间, 毫秒级时间戳
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
          description: 文档标签列表
      type: object
      required:
      - url
      title: OAIDocsUrlRequest
    OAIFolderCreateRequest:
      properties:
        name:
          type: string
          title: Name
      type: object
      required:
      - name
      title: OAIFolderCreateRequest
    OAIFolderDeleteRequest:
      properties:
        folder_id:
          type: string
          title: Folder Id
      type: object
      required:
      - folder_id
      title: OAIFolderDeleteRequest
    OAIFolderDeleteResponse:
      properties:
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
        folder_id:
          type: string
          title: Folder Id
      type: object
      required:
      - doc_ids
      - folder_id
      title: OAIFolderDeleteResponse
    OAIFolderResponse:
      properties:
        folder_id:
          type: string
          title: Folder Id
      type: object
      required:
      - folder_id
      title: OAIFolderResponse
    OAIMarket:
      type: string
      enum:
      - cn
      - hk
      - us
      title: OAIMarket
      description: An enumeration.
    OAISearchChannelPagination:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        channels:
          items:
            $ref: '#/components/schemas/OAIChannelResponse'
          type: array
          title: Channels
          description: List of channel responses.
      type: object
      required:
      - channels
      title: OAISearchChannelPagination
    OAISearchChannelRequest:
      properties:
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        query:
          type: string
          title: Query
          description: Query string or url
      type: object
      required:
      - query
      title: OAISearchChannelRequest
    OAISearchChunksRequest:
      properties:
        query:
          type: string
          title: Query
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        doc_ids:
          items:
            type: string
          type: array
          title: Doc Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        num:
          type: integer
          title: Num
          default: 10
        include_doc_extra_details:
          type: boolean
          title: Include Doc Extra Details
          default: false
        refine_question:
          type: boolean
          title: Refine Question
          default: false
        date_range:
          $ref: '#/components/schemas/DateRangeEnum'
      type: object
      required:
      - query
      title: OAISearchChunksRequest
    OAISearchChunksResponse:
      properties:
        chunks:
          items:
            $ref: '#/components/schemas/OAIChunkWithDoc'
          type: array
          title: Chunks
          default: []
      type: object
      title: OAISearchChunksResponse
    OAISearchDocsRequest:
      properties:
        query:
          type: string
          title: Query
        folder_ids:
          items:
            type: string
          type: array
          title: Folder Ids
          default: []
        categories:
          items:
            $ref: '#/components/schemas/OAIDocCategory'
          type: array
          default:
          - financials
          - transcripts
          - reports
          - news
          - filings
          - socials
        markets:
          items:
            $ref: '#/components/schemas/OAIMarket'
          type: array
          default: []
        institutions:
          items:
            type: string
          type: array
          title: Institutions
          default: []
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          default: []
        tags:
          additionalProperties:
            items: {}
            type: array
          type: object
          title: Tags
        start_date:
          type: string
          title: Start Date
        end_date:
          type: string
          title: End Date
        min_score:
          type: number
          title: Min Score
        extended_filters:
          items:
            type: object
          type: array
          title: Extended Filters
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        mode:
          allOf:
          - $ref: '#/components/schemas/OAISearchMode'
          default: smart
        sort:
          allOf:
          - $ref: '#/components/schemas/OAISearchSort'
          default: smart
        should_highlight:
          type: boolean
          title: Should Highlight
          default: false
      type: object
      title: OAISearchDocsRequest
    OAISearchDocsResponse:
      properties:
        total_count:
          type: integer
          title: Total Count
          default: 0
        total_page:
          type: integer
          title: Total Page
          default: 0
        page_num:
          type: integer
          title: Page Num
          default: 1
        page_size:
          type: integer
          title: Page Size
          default: 10
        docs:
          items:
            anyOf:
            - $ref: '#/components/schemas/OAIDoc'
            - $ref: '#/components/schemas/OAIDocDetail'
          type: array
          title: Docs
          default: []
      type: object
      title: OAISearchDocsResponse
    OAISearchMode:
      type: string
      enum:
      - smart
      - semantic
      - keywords
      title: OAISearchMode
      description: An enumeration.
    OAISearchSort:
      type: string
      enum:
      - smart
      - latest
      title: OAISearchSort
      description: An enumeration.
    OAuthTokenResponse:
      properties:
        access_token:
          type: string
          title: Access Token
        expires_in:
          type: integer
          title: Expires In
        token_type:
          type: string
          title: Token Type
          default: bearer
      type: object
      required:
      - access_token
      - expires_in
      title: OAuthTokenResponse
    StatusMessage:
      properties:
        status:
          type: boolean
          title: Status
          default: true
        message:
          type: string
          title: Message
          default: success
      type: object
      title: StatusMessage
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
    SearchToolsEarningsPackRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      - symbols
      title: SearchToolsEarningsPackRequest
      description: Request model for earnings pack search
    SearchToolsConferenceCallsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      - symbols
      title: SearchToolsConferenceCallsRequest
      description: Request model for conference calls search
    SearchToolsMinutesRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsMinutesRequest
      description: Request model for minutes search
    SearchToolsReportsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        industries:
          items:
            type: string
          type: array
          title: Industries
          description: Industries to filter by
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsReportsRequest
      description: Request model for reports search
    SearchToolsFilingsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      - symbols
      title: SearchToolsFilingsRequest
      description: Request model for filings search
    SearchToolsNewsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsNewsRequest
      description: Request model for news search
    SearchToolsSocialsRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsSocialsRequest
      description: Request model for socials search
    SearchToolsWebpagesRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsWebpagesRequest
      description: Request model for webpage search
    SearchToolsSearchRequest:
      properties:
        query:
          type: string
          title: Query
          description: Search query
        num:
          type: integer
          maximum: 100
          minimum: 1
          title: Num
          description: Number of results to return
          default: 10
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: Stock symbols to filter by
        industries:
          items:
            type: string
          type: array
          title: Industries
          description: Industries to filter by
        channel_ids:
          items:
            type: string
          type: array
          title: Channel Ids
          description: Channel IDs to filter by
        start_datetime:
          type: string
          title: Start Datetime
          description: Start datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
        end_datetime:
          type: string
          title: End Datetime
          description: End datetime in YYYY-MM-DD or YYYY-MM-DD HH:MM:SS format
      type: object
      required:
      - query
      title: SearchToolsSearchRequest
      description: Request model for general document search
    SearchToolsResponse:
      properties:
        docs:
          items:
            $ref: '#/components/schemas/SearchToolsDoc'
          type: array
          title: Docs
          description: Search result documents
        total_count:
          type: integer
          title: Total Count
          description: Total number of matching documents
          default: 0
        took_ms:
          type: integer
          title: Took Ms
          description: Search execution time in milliseconds
          default: 0
      type: object
      title: SearchToolsResponse
      description: Response model for all search tools
    SearchToolsDoc:
      properties:
        doc_id:
          type: string
          title: Doc Id
          description: Document ID
        title:
          type: string
          title: Title
          description: Document title
        summary:
          type: string
          title: Summary
          description: Document summary
        category:
          type: string
          title: Category
          description: Document category
        published_at:
          type: integer
          title: Published At
          description: Publication timestamp in milliseconds
        companies:
          items:
            $ref: '#/components/schemas/CompanyLabel'
          type: array
          title: Companies
          description: Related companies
        metadata:
          type: object
          title: Metadata
          description: Document metadata
        score:
          type: number
          title: Score
          description: Relevance score
        url:
          type: string
          title: Url
          description: Document URL
      type: object
      required:
      - doc_id
      - title
      - url
      title: SearchToolsDoc
      description: Individual search result document
    CompanyOverviewInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol (e.g., HK:00700, US:AAPL)
        name:
          type: string
          title: Name
          description: Stock name (optional)
      type: object
      required:
      - symbol
      title: CompanyOverviewInput
      description: Input schema for company overview
    CompanyShareholdersInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        type:
          type: string
          title: Type
          description: "Choose 'shareholders' or 'outstanding_shareholders'"
        limit:
          type: integer
          title: Limit
          description: Limit return number, default 10
      type: object
      required:
      - symbol
      title: CompanyShareholdersInput
      description: Input schema for company shareholders
    CompanyStockPricesInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
      type: object
      required:
      - symbol
      title: CompanyStockPricesInput
      description: Input schema for company stock prices
    CompanyIncomeStatementInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'annual', 'quarterly', 'cumulative quarterly'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 8
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        calendar:
          type: string
          title: Calendar
          description: "'calendar' or 'fiscal', default 'fiscal'"
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: "Specific fiscal quarter (Q1, Q2, Q3, Q4, FY, H1, 'Q3 (9 months)')"
      type: object
      required:
      - symbol
      title: CompanyIncomeStatementInput
      description: Input schema for company income statement
    CompanyBalanceSheetInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'annual', 'quarterly'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 8
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        calendar:
          type: string
          title: Calendar
          description: "'calendar' or 'fiscal', default 'fiscal'"
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: Specific fiscal quarter (Q1, Q2, Q3, Q4, FY)
      type: object
      required:
      - symbol
      title: CompanyBalanceSheetInput
      description: Input schema for company balance sheet
    CompanyCashflowStatementInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'annual', 'quarterly', 'cumulative quarterly'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 8
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        calendar:
          type: string
          title: Calendar
          description: "'calendar' or 'fiscal', default 'fiscal'"
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
        fiscal_quarter:
          type: string
          title: Fiscal Quarter
          description: "Specific fiscal quarter (Q1, Q2, Q3, Q4, FY, H1, 'Q3 (9 months)')"
      type: object
      required:
      - symbol
      title: CompanyCashflowStatementInput
      description: Input schema for company cashflow statement
    CompanyRevenueBreakdownInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol
        period:
          type: string
          title: Period
          description: "Report cycle: 'FY', 'Q2'"
        limit:
          type: integer
          title: Limit
          description: Return latest N records, default 6
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
        fiscal_year:
          type: string
          title: Fiscal Year
          description: Specific fiscal year (e.g., '2023')
      type: object
      required:
      - symbol
      title: CompanyRevenueBreakdownInput
      description: Input schema for company revenue breakdown
    StockIndexPricesInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock index symbol (e.g., HSI, SPX, DJI)
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
      type: object
      required:
      - symbol
      title: StockIndexPricesInput
      description: Input schema for stock index prices
    StockRealtimeQuoteInput:
      properties:
        symbol:
          type: string
          title: Symbol
          description: Stock symbol (e.g., AAPL, 688001, 00700)
      type: object
      required:
      - symbol
      title: StockRealtimeQuoteInput
      description: Input schema for stock realtime quote
    StockScreenerInput:
      properties:
        market_cap_more_than:
          type: number
          title: Market Cap More Than
          description: Market cap greater than
        market_cap_lower_than:
          type: number
          title: Market Cap Lower Than
          description: Market cap less than
        price_more_than:
          type: number
          title: Price More Than
          description: Stock price greater than
        price_lower_than:
          type: number
          title: Price Lower Than
          description: Stock price less than
        change_percentage_more_than:
          type: number
          title: Change Percentage More Than
          description: Change percentage greater than (e.g., 0.02 for 2%)
        change_percentage_lower_than:
          type: number
          title: Change Percentage Lower Than
          description: Change percentage less than (e.g., 0.04 for 4%)
        volume_more_than:
          type: integer
          title: Volume More Than
          description: Trading volume greater than
        volume_lower_than:
          type: integer
          title: Volume Lower Than
          description: Trading volume less than
        country:
          type: string
          title: Country
          description: Country code (e.g., US, CN, HK)
        exchange:
          type: string
          title: Exchange
          description: Exchange code (e.g., NASDAQ, NYSE, HKEX)
        dividend_yield_more_than:
          type: number
          title: Dividend Yield More Than
          description: Dividend yield greater than
        dividend_yield_lower_than:
          type: number
          title: Dividend Yield Lower Than
          description: Dividend yield less than
        pe_ttm_more_than:
          type: number
          title: PE TTM More Than
          description: PE TTM greater than
        pe_ttm_lower_than:
          type: number
          title: PE TTM Lower Than
          description: PE TTM less than
        limit:
          type: integer
          title: Limit
          description: Maximum number of results, default 100
      type: object
      title: StockScreenerInput
      description: Input schema for stock screener
    StockIPOCalendarHKInput:
      properties:
        status:
          type: string
          enum:
          - Priced
          - Hearing
          - Filing
          title: Status
          description: 'IPO status: Priced, Hearing, or Filing'
          example: Hearing
      type: object
      required:
      - status
      title: StockIPOCalendarHKInput
      description: Input schema for StockIPOCalendarHKTool
    StockEarningsCalendarInput:
      properties:
        area:
          type: string
          enum:
          - cn
          - hk
          - us
          title: Area
          description: 'Market area: cn, hk, or us'
          example: cn
        symbol:
          type: string
          title: Symbol
          description: Stock symbol (optional)
          example: '000300'
        start_date:
          type: string
          title: Start Date
          description: Start date (YYYY-MM-DD)
          example: '2025-11-20'
        end_date:
          type: string
          title: End Date
          description: End date (YYYY-MM-DD)
          example: '2025-12-31'
      type: object
      required:
      - area
      - start_date
      - end_date
      title: StockEarningsCalendarInput
      description: Input schema for StockEarningsCalendarTool
    StockAPIResponse:
      properties:
        status:
          type: integer
          title: Status
          description: HTTP status code
        code:
          type: integer
          title: Code
          description: Response code (0 for success)
        message:
          type: string
          title: Message
          description: Response message
        data:
          type: object
          title: Data
          description: Response data (structure varies by endpoint)
      type: object
      title: StockAPIResponse
      description: Generic response wrapper from stock API
    OAIAgentConversationCreateRequest:
      properties:
        agent_id:
          type: integer
          title: Agent Id
          description: 智能体 ID
          example: 11887655289749510
        title:
          type: string
          title: Title
          description: 对话标题
          example: "nvidia 最新业绩分析"
      type: object
      required:
      - agent_id
      title: OAIAgentConversationCreateRequest
      description: 创建 agent 对话请求
      example:
        agent_id: 11887655289749510
        title: "nvidia 最新业绩分析"
    OAIAgentConversationCreateResponse:
      properties:
        id:
          type: integer
          title: Id
          description: 对话 ID
          example: 123456789
        user_id:
          type: integer
          title: User Id
          description: 用户 ID
          example: 987654321
        agent_id:
          type: integer
          title: Agent Id
          description: 智能体 ID
          example: 11887655289749510
        type:
          type: string
          title: Type
          description: 对话类型
          example: "agent_chat"
        title:
          type: string
          title: Title
          description: 对话标题
          example: "nvidia 最新业绩分析"
        status:
          type: string
          title: Status
          description: 对话状态
          example: "active"
        created_at:
          type: integer
          title: Created At
          description: 创建时间戳（毫秒）
          example: 1765851195760
        updated_at:
          type: integer
          title: Updated At
          description: 更新时间戳（毫秒）
          example: 1765851195768
      type: object
      required:
      - id
      - user_id
      - agent_id
      - type
      - status
      - created_at
      - updated_at
      title: OAIAgentConversationCreateResponse
      description: 创建 agent 对话响应
      example:
        id: 123456789
        user_id: 987654321
        agent_id: 11887655289749510
        type: "agent_chat"
        title: "nvidia 最新业绩分析"
        status: "active"
        created_at: 1765851195760
        updated_at: 1765851195768
    OAIAgentConversationMessageRead:
      properties:
        id:
          type: integer
          title: Id
          description: 消息 ID
          example: 12345
        user_id:
          type: integer
          title: User Id
          description: 用户 ID
          example: 987654321
        conversation_id:
          type: integer
          title: Conversation Id
          description: 对话 ID
          example: 683242877840089
        turn_id:
          type: integer
          title: Turn Id
          description: 对话轮次 ID
          example: 1
        role:
          type: string
          title: Role
          description: 消息角色（user 或 assistant）
          example: "user"
        reply_to_message_id:
          type: integer
          title: Reply To Message Id
          description: 回复的消息 ID
          nullable: true
          example: null
        content:
          type: object
          title: Content
          description: 消息内容
          nullable: true
          example:
            text: "nvidia 最新业绩分析"
        status:
          type: string
          title: Status
          description: 消息状态
          example: "completed"
        error_info:
          type: object
          title: Error Info
          description: 错误信息
          nullable: true
          example: null
        assistant_message_id:
          type: string
          title: Assistant Message Id
          description: 助手消息 ID
          nullable: true
          example: null
        created_at:
          type: integer
          title: Created At
          description: 创建时间戳（毫秒）
          example: 1765851195760
        updated_at:
          type: integer
          title: Updated At
          description: 更新时间戳（毫秒）
          example: 1765851195760
        assistant_events:
          type: array
          items:
            type: object
          title: Assistant Events
          description: 助手事件列表
          nullable: true
          example: null
      type: object
      required:
      - id
      - user_id
      - conversation_id
      - turn_id
      - role
      - status
      - created_at
      - updated_at
      title: OAIAgentConversationMessageRead
      description: Agent 对话消息
      example:
        id: 12345
        user_id: 987654321
        conversation_id: 683242877840089
        turn_id: 1
        role: "user"
        reply_to_message_id: null
        content:
          text: "nvidia 最新业绩分析"
        status: "completed"
        error_info: null
        assistant_message_id: null
        created_at: 1765851195760
        updated_at: 1765851195760
        assistant_events: null
    OAIAgentConversationExecutionCancelResponse:
      properties:
        response_id:
          type: string
          title: Response Id
          description: 响应 ID
          example: "019b24ef238cc97730971a9a0080c99c"
        status:
          type: string
          title: Status
          description: 取消状态
          example: "cancelled"
      type: object
      required:
      - response_id
      - status
      title: OAIAgentConversationExecutionCancelResponse
      description: 取消 agent 执行响应
      example:
        response_id: "019b24ef238cc97730971a9a0080c99c"
        status: "cancelled"
    OAIAgentConversationRead:
      properties:
        id:
          type: integer
          title: Id
          description: 对话 ID
          example: 123456789
        user_id:
          type: integer
          title: User Id
          description: 用户 ID
          example: 987654321
        agent_id:
          type: integer
          title: Agent Id
          description: 智能体 ID
          example: 11887655289749510
        type:
          type: string
          title: Type
          description: 对话类型
          example: "agent_chat"
        title:
          type: string
          title: Title
          description: 对话标题
          example: "nvidia 最新业绩分析"
        status:
          type: string
          title: Status
          description: 对话状态
          example: "active"
        meta:
          type: object
          title: Meta
          description: 元数据
        created_at:
          type: integer
          title: Created At
          description: 创建时间戳（毫秒）
          example: 1765851195760
        updated_at:
          type: integer
          title: Updated At
          description: 更新时间戳（毫秒）
          example: 1765851195768
        last_message:
          type: object
          title: Last Message
          description: 最后一条消息
      type: object
      required:
      - id
      - user_id
      - agent_id
      - type
      - status
      - created_at
      - updated_at
      title: OAIAgentConversationRead
      description: Agent 对话详情
      example:
        id: 123456789
        user_id: 987654321
        agent_id: 11887655289749510
        type: "agent_chat"
        title: "nvidia 最新业绩分析"
        status: "active"
        created_at: 1765851195760
        updated_at: 1765851195768
    OAIAgentConversationChatRequest:
      properties:
        message:
          type: string
          title: Message
          description: 用户消息内容
          example: "nvidia 最新业绩分析"
        documents:
          items:
            $ref: '#/components/schemas/DocumentInput'
          type: array
          title: Documents
          description: 关联的文档列表
          default: []
        stream:
          type: boolean
          title: Stream
          description: 是否使用流式响应
          default: true
          example: true
      type: object
      required:
      - message
      title: OAIAgentConversationChatRequest
      description: Agent 对话聊天请求（创建新消息）
      example:
        message: "nvidia 最新业绩分析"
        stream: true
    DocumentInput:
      properties:
        doc_id:
          type: string
          title: Doc Id
          description: 文档 ID
          example: "1046895208953942016"
        doc_title:
          type: string
          title: Doc Title
          description: 文档标题
          example: "NVIDIA Q4 2024 财报"
        file_type:
          type: string
          title: File Type
          description: 文档文件类型
          example: "pdf"
      type: object
      required:
      - doc_id
      - doc_title
      title: DocumentInput
      description: 文档输入对象
      example:
        doc_id: "1046895208953942016"
        doc_title: "NVIDIA Q4 2024 财报"
        file_type: "pdf"
    WorkflowStreamEvent:
      properties:
        event_id:
          type: string
          title: Event Id
          description: 唯一事件标识符
          example: "019b24ef23a1f4da18256b402868fae31764"
        event_type:
          type: string
          title: Event Type
          description: 事件类型
          enum:
          - init
          - workflow_start
          - workflow_end
          - node_start
          - node_end
          - agent_start
          - agent_end
          - tool_start
          - tool_end
          - stream_start
          - streaming
          - stream_end
          - usage
          - cancel
          - error
          example: "init"
        timestamp:
          type: integer
          title: Timestamp
          description: 事件时间戳（毫秒）
          example: 1765851210657
        response_id:
          type: string
          title: Response Id
          description: 响应标识符，用于分组事件
          example: "019b24ef238cc97730971a9a0080c99c"
        workflow_id:
          type: string
          title: Workflow Id
          description: 工作流标识符
          example: "11887655289749510"
        execution_id:
          type: string
          title: Execution Id
          description: 执行标识符
          example: "1dfccd9d-c365-4b7a-adae-aa9123684ec4"
        run_id:
          type: string
          title: Run Id
          description: 运行标识符，用于关联一组 start 和 end 事件（如 workflow_start 和 workflow_end、tool_start 和 tool_end），用于分组相关的开始/结束事件对
          example: ""
        node_id:
          type: string
          title: Node Id
          description: 节点标识符
        node_name:
          type: string
          title: Node Name
          description: 节点显示名称
        node_type:
          type: string
          title: Node Type
          description: 节点类型（start, tool, agent, end）
        agent_id:
          type: string
          title: Agent Id
          description: 智能体标识符
        agent_name:
          type: string
          title: Agent Name
          description: 智能体显示名称
        agent_type:
          type: string
          title: Agent Type
          description: 智能体类型（builtin_agent, react_agent 等）
        tool_id:
          type: string
          title: Tool Id
          description: 工具标识符
        tool_name:
          type: string
          title: Tool Name
          description: 工具显示名称
        input:
          type: object
          title: Input
          description: 组件的输入数据
          properties:
            query:
              type: string
              description: 搜索查询
            symbols:
              type: array
              items:
                type: string
              description: 股票代码列表
            start_datetime:
              type: string
              description: 开始时间
            end_datetime:
              type: string
              description: 结束时间
            num:
              type: integer
              description: 返回数量
            filetype:
              type: string
              description: 文件类型
            response_mode:
              type: string
              description: 响应模式
          example:
            query: "NVIDIA AMD Intel GPU 半导体 最新动态"
            symbols: ["US:NVDA", "US:AMD", "US:INTC"]
            start_datetime: "2025-12-15T00:00:00"
            end_datetime: "2025-12-16T02:14:15"
            num: 15
            filetype: "json"
        output:
          type: object
          title: Output
          description: |
            组件的输出数据。
            - 对于 tool_end 事件：包含 content 字段（JSON 字符串格式）
            - 对于 agent_end 事件：包含 content 字段（Markdown 格式）
            - 对于 node_end 事件：包含 content、filetype、filename、filepath 字段
            - 对于 workflow_end 事件：字典的 key 为最后一个 node 的 node_id，value 包含 title、filetype、content、filename、filepath 字段
          properties:
            content:
              type: string
              description: 输出内容（JSON 字符串格式或 Markdown 格式）
          example:
            content: "{\"docs\": [{\"doc_id\": \"1197862772277383168\", \"title\": \"示例文档\"}], \"total_count\": 10}"
        content:
          type: string
          title: Content
          description: 事件内容（用于思考/流式输出）
          example: ""
        error:
          type: object
          title: Error
          description: 错误信息（如果事件类型为 error）
        offset:
          type: integer
          title: Offset
          description: 事件偏移量
          example: 9195
      type: object
      required:
      - event_id
      - event_type
      - timestamp
      - response_id
      title: WorkflowStreamEvent
      description: 工作流流式事件对象
      examples:
        init:
          value:
            event_id: "019b24ef23a1f4da18256b402868fae31764"
            event_type: "init"
            timestamp: 1765851210657
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: "1dfccd9d-c365-4b7a-adae-aa9123684ec4"
            run_id: ""
            content: ""
            offset: 9195
        workflow_start:
          value:
            event_id: "019b24ef24707069ef923d72561a95812188"
            event_type: "workflow_start"
            timestamp: 1765851210864
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24ef246ef1f8e14609660d1d65be"
            offset: 9196
        node_start:
          value:
            event_id: "019b24ef24a481260ead20b3ff894a845363"
            event_type: "node_start"
            timestamp: 1765851210916
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24ef24a4c38d39a09dee2eff830a"
            node_id: "start"
            node_name: "开始"
            node_type: "start"
            offset: 9197
        agent_start:
          value:
            event_id: "019b24ef4a297981a743b7f6dc55eb043579"
            event_type: "agent_start"
            timestamp: 1765851220521
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24ef4a292fe173c0c73e0e334ce4"
            node_id: "define_report_scope"
            node_name: "确定报告范围"
            node_type: "agent"
            agent_id: "agent_action"
            agent_name: "执行智能体"
            agent_type: "action_agent"
            offset: 9217
        stream_start:
          value:
            event_id: "019b24ef25014cbf7f25f0043effd82c6665"
            event_type: "stream_start"
            timestamp: 1765851211009
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24ef25015b3e6e9b3d2363cfb36c"
            node_id: "start"
            agent_id: "workflow_planner"
            offset: 9198
        streaming:
          value:
            event_id: "019b24ef2e3b40bc070e30a4843987b35668"
            event_type: "streaming"
            timestamp: 1765851213371
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24ef25015b3e6e9b3d2363cfb36c"
            node_id: "start"
            agent_id: "workflow_planner"
            content: "你的任务是获取关于Google Gemini最新模型评分以及Google IDEA antigravity"
            offset: 9199
        stream_end:
          value:
            event_id: "019b24f3717634bdd262947130af73b52555"
            event_type: "stream_end"
            timestamp: 1765851492726
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24f348b67465f45353c50feb2367"
            node_id: "end"
            agent_id: "workflow_summarizer"
            content: "本次工作流执行成功完成了任务，生成了一份全面的《AI行业每日深度报告》。"
            offset: 9861
        tool_start:
          value:
            event_id: "019b24efea2a626e2cb6f9c22b2683bb9594"
            event_type: "tool_start"
            timestamp: 1765851261482
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24efea2a3e491e920de6003caf6c_5hyy41"
            node_id: "collect_upstream_news"
            agent_id: "agent_deep_search"
            tool_id: "tool_news_search"
            tool_name: "新闻搜索"
            input:
              query: "NVIDIA AMD Intel GPU 半导体 最新动态"
              symbols: ["US:NVDA", "US:AMD", "US:INTC"]
              start_datetime: "2025-12-15T00:00:00"
              end_datetime: "2025-12-16T02:14:15"
              num: 15
              filetype: "json"
            offset: 9323
        tool_end:
          value:
            event_id: "019b24efec9274b499f96da757fb03a66788"
            event_type: "tool_end"
            timestamp: 1765851262098
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24efdf9629d550ae7803264e3589_n1rz9t"
            node_id: "collect_model_layer_news"
            agent_id: "agent_deep_search"
            tool_id: "tool_news_search"
            tool_name: "新闻搜索"
            output:
              content: "{\"docs\": [{\"doc_id\": \"1197862772277383168\", \"title\": \"示例文档\"}], \"total_count\": 10}"
        agent_end:
          value:
            event_id: "019b24efc138c7b1e3adc456762dda377273"
            event_type: "agent_end"
            timestamp: 1765851251000
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24ef4a292fe173c0c73e0e334ce4"
            node_id: "define_report_scope"
            node_name: "确定报告范围"
            node_type: "agent"
            agent_id: "agent_action"
            agent_name: "执行智能体"
            agent_type: "action_agent"
            output:
              content: "# AI行业每日深度报告 - 覆盖范围与重点标的清单\n\n## 报告概述\n本报告将全面覆盖AI全产业链上下游..."
            offset: 9264
        node_end:
          value:
            event_id: "019b24f3719913f41c7d391a00efe55a2581"
            event_type: "node_end"
            timestamp: 1765851492761
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24f3485b8f786c3da7168d826202"
            node_id: "end"
            node_name: "结束"
            node_type: "end"
            output:
              content: "本次工作流执行成功完成了任务，生成了一份全面的《AI行业每日深度报告》。"
            offset: 9863
        workflow_end:
          value:
            event_id: "019b24f371b1d3759377966a35173d099385"
            event_type: "workflow_end"
            timestamp: 1765851492785
            response_id: "019b24ef238cc97730971a9a0080c99c"
            workflow_id: "11887655289749510"
            execution_id: ""
            run_id: "019b24ef246ef1f8e14609660d1d65be"
            output:
              generate_daily_report:
                title: "AI行业每日深度报告 - 2025年12月16日"
                filetype: "markdown"
                content: "# AI行业每日深度报告 - 2025年12月16日\n\n## 执行摘要\n..."
                filename: "AI行业每日深度报告 - 2025年12月16日.md"
                filepath: "/AI行业每日深度报告 - 2025年12月16日.md"
            offset: 9864
    # Common
    BaseResponse:
      type: object
      properties:
        status:
          type: integer
          description: HTTP 状态码
          example: 200
        code:
          type: integer
          description: 响应代码（0 表示成功）
          example: 0
        message:
          type: string
          description: 响应消息
          example: ""

    # Indicators
    IndicatorRequest:
      type: object
      required:
        - symbols
        - indicators
      properties:
        symbols:
          type: array
          items:
            type: string
          description: 股票代码列表
          example: ["US:AAPL", "US:MSFT"]
        indicators:
          type: array
          items:
            type: string
            enum: [ma, ema, rsi, macd, bollinger, atr, obv, kdj]
          description: 指标名称列表
          example: ["ma", "rsi", "macd"]
        start_date:
          type: string
          format: date
          description: 开始日期
          example: "2024-01-01"
        end_date:
          type: string
          format: date
          description: 结束日期
          example: "2024-06-30"
        interval:
          type: string
          enum: ["1d", "1w", "1m"]
          default: "1d"
          description: 数据周期
        params:
          type: object
          additionalProperties: true
          description: 指标参数
          example:
            ma_period: 20
            rsi_period: 14

    IndicatorResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/IndicatorData'

    IndicatorData:
      type: object
      properties:
        date:
          type: string
          format: date
        symbol:
          type: string
        open:
          type: number
        high:
          type: number
        low:
          type: number
        close:
          type: number
        volume:
          type: integer
        ma_20:
          type: number
        rsi_14:
          type: number
        macd:
          type: number
        macd_signal:
          type: number
        macd_histogram:
          type: number

    IndicatorListResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            indicators:
              type: array
              items:
                $ref: '#/components/schemas/IndicatorDefinition'

    IndicatorDefinition:
      type: object
      properties:
        name:
          type: string
          example: "ma"
        description:
          type: string
          example: "Simple Moving Average"
        category:
          type: string
          example: "trend"
        parameters:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              type:
                type: string
              default:
                type: integer
              description:
                type: string

    # Factors
    FactorRequest:
      type: object
      required:
        - symbols
        - factors
      properties:
        symbols:
          type: array
          items:
            type: string
          example: ["US:AAPL", "US:MSFT"]
        factors:
          type: array
          items:
            type: string
            enum: [momentum, value, quality, size, volatility, growth]
          example: ["momentum", "value", "quality"]
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        frequency:
          type: string
          enum: [daily, weekly, monthly]
          default: daily

    FactorResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/FactorData'

    FactorData:
      type: object
      properties:
        date:
          type: string
          format: date
        symbol:
          type: string
        momentum:
          type: number
        value:
          type: number
        quality:
          type: number
        size:
          type: number
        volatility:
          type: number
        growth:
          type: number

    FactorListResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            factors:
              type: array
              items:
                $ref: '#/components/schemas/FactorDefinition'

    FactorDefinition:
      type: object
      properties:
        name:
          type: string
        category:
          type: string
        description:
          type: string

    FactorExposureRequest:
      type: object
      required:
        - symbols
      properties:
        symbols:
          type: array
          items:
            type: string
        date:
          type: string
          format: date

    FactorExposureResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/FactorData'

    # Quotes
    QuoteRequest:
      type: object
      required:
        - symbols
      properties:
        symbols:
          type: array
          items:
            type: string
          example: ["US:AAPL", "US:MSFT"]
        fields:
          type: array
          items:
            type: string

    QuoteResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/QuoteData'

    QuoteData:
      type: object
      properties:
        symbol:
          type: string
        price:
          type: number
        change:
          type: number
        change_percent:
          type: number
        open:
          type: number
        high:
          type: number
        low:
          type: number
        previous_close:
          type: number
        volume:
          type: integer
        market_cap:
          type: number
        pe:
          type: number
        timestamp:
          type: integer

    QuoteHistoryRequest:
      type: object
      required:
        - symbols
      properties:
        symbols:
          type: array
          items:
            type: string
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        interval:
          type: string
          enum: ["1d", "1w", "1m"]
          default: "1d"
        adjust:
          type: string
          enum: [forward, backward, none]
          default: forward
        limit:
          type: integer
          default: 100

    QuoteHistoryResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/OHLCVData'

    OHLCVData:
      type: object
      properties:
        date:
          type: string
          format: date
        symbol:
          type: string
        open:
          type: number
        high:
          type: number
        low:
          type: number
        close:
          type: number
        volume:
          type: integer
        turnover:
          type: number

    # Backtest
    BacktestRequest:
      type: object
      required:
        - strategy
        - start_date
        - end_date
      properties:
        strategy:
          $ref: '#/components/schemas/Strategy'
        start_date:
          type: string
          format: date
          example: "2020-01-01"
        end_date:
          type: string
          format: date
          example: "2024-01-01"
        initial_capital:
          type: number
          default: 1000000
        benchmark:
          type: string
          example: "US:SPY"

    Strategy:
      type: object
      required:
        - type
        - universe
      properties:
        type:
          type: string
          enum: [momentum, value, equal_weight, custom]
          example: "momentum"
        universe:
          type: array
          items:
            type: string
          example: ["US:AAPL", "US:MSFT", "US:GOOGL"]
        rebalance:
          type: string
          enum: [daily, weekly, monthly, quarterly]
          default: monthly
        top_n:
          type: integer
          example: 3
        lookback:
          type: integer
          example: 60
        weights:
          type: object
          additionalProperties:
            type: number

    BacktestResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            backtest_id:
              type: string
              example: "bt_abc123def456"
            status:
              type: string
              enum: [pending, running, completed, failed]
            metrics:
              $ref: '#/components/schemas/BacktestMetrics'
            summary:
              $ref: '#/components/schemas/BacktestSummary'

    BacktestMetrics:
      type: object
      properties:
        total_return:
          type: number
          description: 总收益率
          example: 0.856
        annualized_return:
          type: number
          description: 年化收益率
          example: 0.168
        sharpe_ratio:
          type: number
          description: 夏普比率
          example: 1.25
        max_drawdown:
          type: number
          description: 最大回撤
          example: -0.182
        win_rate:
          type: number
          description: 胜率
          example: 0.58
        volatility:
          type: number
          description: 波动率
          example: 0.185
        calmar_ratio:
          type: number
        sortino_ratio:
          type: number
        alpha:
          type: number
        beta:
          type: number
        information_ratio:
          type: number

    BacktestSummary:
      type: object
      properties:
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        initial_capital:
          type: number
        final_value:
          type: number
        total_trades:
          type: integer
        benchmark_return:
          type: number

    BacktestReturnsResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/ReturnData'

    ReturnData:
      type: object
      properties:
        date:
          type: string
          format: date
        portfolio_value:
          type: number
        daily_return:
          type: number
        cumulative_return:
          type: number
        benchmark_return:
          type: number

    BacktestTradesResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/TradeData'

    TradeData:
      type: object
      properties:
        date:
          type: string
          format: date
        symbol:
          type: string
        action:
          type: string
          enum: [buy, sell]
        quantity:
          type: integer
        price:
          type: number
        value:
          type: number
        commission:
          type: number
        pnl:
          type: number
        return_pct:
          type: number

  responses:
    BadRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    NotFound:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    ValidationError:
      description: Validation Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/HTTPValidationError'

  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
servers:
- url: https://api.reportify.cn
